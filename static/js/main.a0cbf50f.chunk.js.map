{"version":3,"sources":["Site.module.css","App.js","index.js"],"names":["module","exports","App","props","location","useLocation","history","useHistory","useCurrentPng","getPng","ref","isLoading","handleDownload","useCallback","a","png","FileSaver","saveAs","queryoption","queryparse","search","queryString","parse","country","push","value","label","map","e","queryparsevar","type","optionsvariable","console","log","colorBasket","useState","selectedOptionvar","setSelectedOptionvar","selectedType","setSelectedType","countrylist","d","filteredData","data","filter","includes","EN","selectedData","category","eduGroup","SelectedVariable","f","hv219","AgeCategory","styles","menu","base","state","backgroundColor","borderRadius","boxShadow","height","option","isDisabled","isFocused","isSelected","menuList","maxHeight","dropdownIndicator","control","isHidden","borderStyle","borderColor","borderWidth","color","singleValue","fontSize","fontWeight","input","styleVar","textAlign","renderLineChart","margin","top","right","left","bottom","strokeDasharray","dataKey","domain","cursor","strokeWidth","content","active","payload","className","classes","Tooltip","i","idx","key","style","marginLeft","marginRight","Math","round","language","reverse","g","stackId","fill","class","Layout","Mixer","Large","SearchBar","options","isSearchable","isMulti","onChange","setSelectedOption","length","newCountries","pathname","stringify","handleChange","menuIsOpen","hideSelectedOptions","components","Control","Sm_Md","Visualisation","KeyFigure__Md_Lg","KeyFiguresWrapper","KeyFigures","newcon","handleChangevar","IndicatorsContainer","ControlInfo","InfoTooltip","buttonActive","button","onClick","handleChangeType","LineGraph","TwitterShareButton","url","title","toString","TwitterIcon","size","FacebookShareButton","FacebookIcon","href","target","rel","aria-label","newcountry","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a0cbf50f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Control\":\"Site_Control__6ydGG\",\"ControlInfo\":\"Site_ControlInfo__2PdqB\",\"material-icons\":\"Site_material-icons__199hW\",\"InfoTooltip\":\"Site_InfoTooltip__3PQVz\",\"KeyFigures\":\"Site_KeyFigures__2RCWB\",\"LineGraph\":\"Site_LineGraph__2alqI\",\"Visualisation\":\"Site_Visualisation__RYY4D\",\"KeyFigure__Md_Lg\":\"Site_KeyFigure__Md_Lg__1X_gz\",\"Layout\":\"Site_Layout__3hNKN\",\"Mixer\":\"Site_Mixer__3H9OK\",\"Sm_Md\":\"Site_Sm_Md__1zw5Z\",\"Large\":\"Site_Large__2ha0z\",\"SearchBar\":\"Site_SearchBar__3wazK\",\"SearchBar__Sm\":\"Site_SearchBar__Sm__qO4ji\",\"keybutton\":\"Site_keybutton__2wcdQ\",\"header\":\"Site_header__3iCbW\",\"title\":\"Site_title__15UGb\",\"box\":\"Site_box__3XuyM\",\"main\":\"Site_main__1pLwv\",\"TableHeader\":\"Site_TableHeader__2WUPl\",\"button\":\"Site_button__3quVG\",\"TableSearch\":\"Site_TableSearch__2iwvs\",\"mapContainer\":\"Site_mapContainer__2wsmZ\",\"mapContainerhidden\":\"Site_mapContainerhidden__1-Gkx\",\"topleft\":\"Site_topleft__1TmI1\",\"legend\":\"Site_legend__36Hn8\",\"table\":\"Site_table__Io4Wi\",\"Tooltip\":\"Site_Tooltip__23Pjg\",\"regionsel\":\"Site_regionsel__2Cpxq\",\"popup\":\"Site_popup__2JwWg\",\"logo\":\"Site_logo__1xyQV\",\"buttondist\":\"Site_buttondist__1BltH\",\"buttonActive\":\"Site_buttonActive__3StoQ\",\"buttonW\":\"Site_buttonW__3jUWC\",\"buttonV\":\"Site_buttonV__2R9sk\",\"buttonA\":\"Site_buttonA__22eo7\",\"buttonR\":\"Site_buttonR__1BIBG\",\"tooltip\":\"Site_tooltip__1Ut4m\"};","import React, { useState, useCallback } from 'react';\r\nimport Select, { components } from 'react-select'\r\nimport './index.css';\r\nimport data from './data.json';\r\nimport optionsvariable from './optionvariable.json';\r\nimport options from './option.json';\r\n// import wordlist from './wordlist.json';\r\nimport classes from './Site.module.css';\r\nimport { FacebookShareButton, FacebookIcon, TwitterIcon, TwitterShareButton} from 'react-share';\r\n// import { Badge, Chip } from '@material-ui/core';\r\n// import { makeStyles } from '@material-ui/core/styles';\r\n// import StackGrid from \"react-stack-grid\";\r\n// import { Web, Videocam, Description, PictureAsPdf} from '@material-ui/icons';\r\n// import ReactGA from 'react-ga';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport queryString from \"query-string\";\r\nimport { useLocation, useParams, useHistory } from 'react-router';\r\nimport { useCurrentPng } from \"recharts-to-png\";\r\nimport FileSaver from \"file-saver\";\r\n\r\n\r\n\r\n\r\n\r\nconst App = props => {\r\n\r\n\r\nconst location = useLocation()\r\nconst history = useHistory()\r\nconst [getPng, { ref, isLoading }] = useCurrentPng();\r\n\r\nconst handleDownload = useCallback(async () => {\r\n  const png = await getPng();\r\n\r\n  // Verify that png is not undefined\r\n  if (png) {\r\n    // Download with FileSaver\r\n    FileSaver.saveAs(png, 'myChart.png');\r\n  }\r\n}, [getPng]);\r\n\r\nconst queryoption =[]\r\n\r\n\r\n\r\nconst queryparse = location.search===\"\"?  \"Africa 2000-2020\" : queryString.parse(location.search).country \r\ntypeof queryparse==='string'? queryoption.push({value:queryparse,label:queryparse}) : queryparse.map(e => queryoption.push({value:e,label:e}))  \r\nconst queryparsevar = location.search===\"\"?  'hv108' : queryString.parse(location.search).type\r\n\r\n\r\nconst queryoptionvar ={value:queryparsevar,label:optionsvariable.map(e=>e.value===queryparsevar? e.label : null)}\r\nconsole.log(optionsvariable)\r\n\r\nconst locale = \"en\"\r\n\r\nconst colorBasket = [\r\n  \"#a70000\",\r\n  \"rgb(246,186,112)\",\r\n  \"rgb(42,79,95)\",  \r\n  \"rgb(67,107,101)\",\r\n  \"rgb(133,163,147)\",    \r\n  \"rgb(197,209,191)\",\r\n  \"rgb(246,186,112)\",\r\n  \"rgb(42,79,95)\",  \r\n  \"rgb(67,107,101)\",\r\n  \"rgb(133,163,147)\",    \r\n  \"rgb(197,209,191)\",\r\n  \"rgb(246,186,112)\",\r\n  \"rgb(42,79,95)\",  \r\n  \"rgb(67,107,101)\",\r\n  \"rgb(133,163,147)\",    \r\n  \"rgb(197,209,191)\",\r\n  ];  \r\n\r\n\r\nconst [selectedOption, setSelectedOption] = useState([{value: 'Angola', label: 'Angola'}]);\r\nconst [selectedOptionvar, setSelectedOptionvar] = useState({value: 'hv108', label: 'Education completed in single years'});\r\nconst [selectedType, setSelectedType] = useState('all');\r\n\r\nconsole.log(selectedOptionvar)\r\n\r\nconst countrylist = []\r\n\r\n\r\nqueryoption.map(d=>countrylist.push(d.value))\r\n\r\n\r\n\r\nconst filteredData = data.filter(d => countrylist.includes(d.EN) && d.type === selectedType)\r\nconst selectedData = [\r\n  {category:0,label:'Rural'},\r\n  {category:10,label:'10 000 - 50 000'},\r\n  {category:50,label:'50 000 - 250 000'},\r\n  {category:250,label:'250 000 - 1,000 000'},\r\n  {category:1000,label:'1 000 000+'},\r\n]\r\n\r\nconst eduGroup = [\"complete primary\",\"complete secondary\",\"higher\", \"incomplete primary\", \"incomplete secondary\",\"no education\"]\r\nlet SelectedVariable = selectedOptionvar.value\r\nfilteredData.map(d=>\r\n  selectedData.map(e => \r\n    selectedOptionvar.value===\"Education\"?\r\n      eduGroup.map(f => \r\n        e.category === d.category?       \r\n        selectedType === 'all' ? \r\n          e[d.EN+f]=d[f] :\r\n          selectedType === 'sex'? \r\n            d.hv219 === 'male'? \r\n              e[d.EN+\"_male\"+f]=d[f] :  \r\n            e[d.EN+\"_female\"+f]=d[f] :         \r\n            d.AgeCategory === 0? \r\n              e[d.EN+\"_young\"+f]=d[f] : \r\n              e[d.EN+\"_old\"+f]=d[f] :\r\n      null                     \r\n        ) :\r\n    e.category === d.category?       \r\n      selectedType === 'all' ? \r\n        e[d.EN]=d[SelectedVariable] :\r\n        selectedType === 'sex'? \r\n          d.hv219 === 'male'? \r\n            e[d.EN+\"_male\"]=d[SelectedVariable] :  \r\n          e[d.EN+\"_female\"]=d[SelectedVariable] :         \r\n          d.AgeCategory === 0? \r\n            e[d.EN+\"_young\"]=d[SelectedVariable] : \r\n            e[d.EN+\"_old\"]=d[SelectedVariable] :\r\n    null \r\n  \r\n    )\r\n  )\r\n\r\n  \r\n  const styles = {    \r\n    menu: (base, state) => {\r\n        return {\r\n            ...base,\r\n            backgroundColor: \"#ffffff\",\r\n            // backgroundColor: \"#fef7e7\",\r\n            borderRadius: 0,\r\n            boxShadow: 0,\r\n            height: '572px',\r\n            // opacity: \".9\"\r\n        }\r\n    },\r\n    option: (base, { isDisabled, isFocused, isSelected }) => {\r\n      return {\r\n        ...base,\r\n        backgroundColor: isSelected ? \"#a70000\" : null,\r\n        // color: isDisabled\r\n        //   ? '#ccc'\r\n        //   : isSelected\r\n        //   ? chroma.contrast(color, 'white') > 2\r\n        //     ? 'white'\r\n        //     : 'black'\r\n        //   : data.color,\r\n        ':active': {\r\n          // ...styles[':active'],\r\n          // backgroundColor: isSelected ? \"#a70000\" : \"#a70000\",\r\n          // opacity: isSelected ? \".4\" : \".7\",\r\n          // color: isSelected ? \"#fef7e7\" : \".7\",\r\n        },\r\n      }\r\n    },\r\n    menuList: (base, state) => {\r\n        return {\r\n            ...base,\r\n            maxHeight: 'none',\r\n            height: '100%',\r\n        }\r\n    },\r\n    dropdownIndicator: (base, state) => {\r\n      return { ...base,\r\n        \r\n      };\r\n    },\r\n    control: (base, state) => {\r\n      return { ...base,\r\n        isHidden: true, \r\n        boxShadow: 'none',\r\n        backgroundColor: 'none',\r\n        borderStyle: 'solid', \r\n        borderColor: '#449999',\r\n        borderWidth: '0px',\r\n        color: 'none', \r\n        \"&:hover\": { \r\n        }\r\n      };\r\n    },\r\n    singleValue: (base, state) => {\r\n      return {\r\n        ...base,\r\n        fontSize:'2rem',\r\n        fontWeight:'600',\r\n        color: '#212529',\r\n      }\r\n    },\r\n    input: (base, state) => {\r\n      return {\r\n        ...base,\r\n        fontSize:'2rem',\r\n        fontWeight:'900',\r\n        color: '#212529'\r\n      }\r\n    }\r\n};\r\n\r\n\r\nconst IndicatorsContainer = props => {  \r\n  return (\r\n    <div className={classes.Control}>\r\n      <div className={classes.ControlInfo}>\r\n        <i className={classes[\"material-icons\"]}> info </i>\r\n        <div className={classes.InfoTooltip}>\r\n            {\"indicator explanation\"}\r\n        </div>\r\n      </div>\r\n      <components.IndicatorsContainer {...props} />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst renderTooltip = (props) => {\r\n  if (props.active && props.payload !== null && props.payload[0] !== null) {\r\n    let payload = props.payload[0].payload;\r\n    let tooltip = null;    \r\n          tooltip = selectedOptionvar.label==='Education completed in single years'? (\r\n            <div className={classes.Tooltip}>            \r\n              {props.payload.map((i, idx) => (\r\n                <p\r\n                  key={idx}\r\n                  style={{\r\n                    color: i.color,\r\n                    marginLeft: \"10px\",\r\n                    marginRight: \"10px\",\r\n                  }}\r\n                >\r\n                  {i.dataKey}: {Math.round(i.value * 100) / 100} years\r\n                </p>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className={classes.Tooltip}>            \r\n              {props.payload.map((i, idx) => (\r\n                <p\r\n                  key={idx}\r\n                  style={{\r\n                    color: i.color,\r\n                    marginLeft: \"10px\",\r\n                    marginRight: \"10px\",\r\n                  }}\r\n                >\r\n                  {i.dataKey}: {Math.round(i.value * 1000) / 10}%\r\n                </p>\r\n              ))}\r\n            </div>\r\n          );\r\n        \r\n\r\n    return tooltip;\r\n  }\r\n}\r\n\r\nconst styleVar = {\r\n  // indicatorSeparator: (base, state) => {\r\n\r\n  // },\r\n  menu: (base, state) => {\r\n      return {\r\n          ...base,\r\n          backgroundColor: \"white\",\r\n          borderRadius: 0,\r\n          boxShadow: 0,\r\n      }\r\n  },\r\n  menuList: (base, state) => {\r\n      return {\r\n          ...base,\r\n      }\r\n  },\r\n  control: (base, state) => {\r\n    return { ...base,\r\n      isHidden: true, \r\n      boxShadow: 'none',\r\n      backgroundColor: 'none',\r\n      borderStyle: 'solid', \r\n      borderColor: '#449999',\r\n      borderWidth: '0px',\r\n      color: 'none', \r\n      \"&:hover\": { \r\n      }\r\n    };\r\n  },\r\n  singleValue: (base, state) => {\r\n    return {\r\n      ...base,\r\n      color: '#212529',\r\n      textAlign: \"right\",\r\n    }\r\n  },\r\n  input: (base, state) => {\r\n    return {\r\n      ...base,\r\n      color: '#212529'\r\n    }\r\n  }\r\n};\r\n\r\nlet renderLineChart = (\r\n  <ResponsiveContainer height=\"100%\" ref={ref}>\r\n      <BarChart \r\n      // width={1000}\r\n      // height={600}\r\n      data={selectedData}\r\n      margin={{top: 10, right: 20, left: 20, bottom: 10}}\r\n      >\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"label\" />\r\n          {selectedOptionvar.value===\"Education\"? <YAxis domain={[0,1.05]} /> : <YAxis /> }\r\n          <Tooltip\r\n              cursor={{ strokeWidth: 0 }}\r\n              content={renderTooltip}      \r\n              language={locale} />\r\n          <Legend />  \r\n          {countrylist.map((d,e) => \r\n            selectedOptionvar.value===\"Education\"?                         \r\n              selectedType === 'all'?\r\n              eduGroup.reverse().map((f,g) => <Bar dataKey={d+f} stackId='a' fill={colorBasket[g]} />) :\r\n              selectedType === 'sex'?            \r\n              eduGroup.reverse().map((f,g) => <Bar dataKey={d+'_male'+f} stackId='a' fill={colorBasket[g]} />) : \r\n              eduGroup.reverse().map((f,g) => <Bar dataKey={d+'_young'+f} stackId='a' fill={colorBasket[g]} />) :\r\n            selectedType === 'all'?\r\n            <Bar dataKey={d} fill={colorBasket[e]}/> :\r\n            selectedType === 'sex'?            \r\n            <Bar dataKey={d+'_male'} fill={colorBasket[e]}/> :\r\n            <Bar dataKey={d+'_young'} fill={colorBasket[e]}/>\r\n          )}     \r\n          {countrylist.map((d,e) => \r\n            selectedOptionvar.value===\"Education\"?                         \r\n              selectedType === 'all'?\r\n              null :\r\n              selectedType === 'sex'?            \r\n              eduGroup.reverse().map((f,g) => <Bar dataKey={d+'_female'+f} stackId='b' fill={colorBasket[g]} />) : \r\n              eduGroup.reverse().map((f,g) => <Bar dataKey={d+'_old'+f} stackId='b' fill={colorBasket[g]} />) :\r\n            selectedType === 'all'?\r\n            null :\r\n            selectedType === 'sex'?            \r\n            <Bar dataKey={d+'_female'} fill={colorBasket[e+1]}/>                        \r\n            :\r\n            <Bar dataKey={d+'_old'} fill={colorBasket[e+1]}/>\r\n          )}                \r\n      </BarChart>\r\n  </ResponsiveContainer>\r\n);\r\n\r\n  \r\nreturn (\r\n<div class={classes.Layout}>\r\n  <div class={classes.Mixer}>\r\n    <div className={classes.Large}>\r\n      <div className={classes.SearchBar}>\r\n        <Select \r\n        styles={styles}\r\n        options={options} \r\n        isSearchable={false}\r\n        isMulti \r\n        value={queryoption}\r\n        onChange={ (e,d) => handleChange(e,d,history, selectedOptionvar,setSelectedOption,queryparsevar,selectedType)\r\n          // e => pushQuery(history,{country:e[1].value})\r\n          // setSelectedOption      \r\n        }\r\n        menuIsOpen={true}\r\n        hideSelectedOptions={false}\r\n        components={{\r\n          Control: () => null\r\n        }}\r\n        />                \r\n      </div>\r\n      \r\n      <div className={classes.Sm_Md}>\r\n        MobileView\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div className={classes.Visualisation}>\r\n    <div className={classes.KeyFigure__Md_Lg}>\r\n      <div className={classes.KeyFiguresWrapper}>\r\n          <Select \r\n          styles={styleVar}\r\n          options={optionsvariable} \r\n          className={classes.KeyFigures}\r\n          // // isMulti \r\n          value={selectedOptionvar}\r\n          onChange={ (e,d) => handleChangevar(e,d,history,setSelectedOptionvar,queryparse) }\r\n          components={{\r\n            // IndicatorSeparator: null,\r\n            IndicatorsContainer: IndicatorsContainer\r\n          }}\r\n          />\r\n          <button className={selectedType === 'all'? classes.buttonActive : classes.button} onClick={() => handleChangeType('all',setSelectedType,history,queryparse,queryparsevar)}>All</button>\r\n          <button className={selectedType === 'sex'? classes.buttonActive : classes.button} onClick={() => handleChangeType('sex',setSelectedType,history,queryparse,queryparsevar)}>Male/Female</button>\r\n          <button className={selectedType === 'age'? classes.buttonActive : classes.button} onClick={() => handleChangeType('age',setSelectedType,history,queryparse,queryparsevar)}>Young/Old</button>\r\n      </div>\r\n      Respondents who live in different city size\r\n    </div>\r\n    <div className={classes.LineGraph}>\r\n    {renderLineChart}\r\n    <TwitterShareButton\r\n        url={\"https://mkmdivy.github.io/pacdigitalstory/\"+location.search}\r\n        title={\"The Economic Power of Africa's cities \\n\" + selectedOptionvar.value + \":\" + queryparse.toString() + \"\\n\" + \"Explore more here:\"}\r\n        className=\"Demo__some-network__share-button\">\r\n        <TwitterIcon\r\n          size={32}\r\n          round />\r\n      </TwitterShareButton>\r\n      <FacebookShareButton\r\n      url={\"https://mkmdivy.github.io/pacdigitalstory/\"+location.search}\r\n      title=\"The Economic Power of Africa's cities\"\r\n      className=\"Demo__some-network__share-button\">\r\n      <FacebookIcon size={32} round />\r\n      </FacebookShareButton>\r\n      <button onClick={handleDownload}>\r\n        {isLoading ? 'Downloading...' : 'Download Chart'}\r\n      </button>\r\n      <button >\r\n      <a\r\n          class='social-icon-link github'\r\n          href=\"https://pac-app-int.oecd.org/story-builder/africa-urbanisation/en/index-v2?_storyblok=112743496&_storyblok_c=page&_storyblok_tk[space_id]=81332&_storyblok_tk[timestamp]=1646752082&_storyblok_tk[token]=0fc98df47cace759570fb3b892f350afb638a34f&_storyblok_version=&_storyblok_lang=default&_storyblok_release=0#policy-actions\"\r\n          target='_blank'\r\n          rel=\"noopener\"\r\n          aria-label='Github'\r\n        >        \r\n          Explore the full story\r\n      </a>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n\r\nfunction handleChange(e, d, history, selectedOptionvar, setSelectedOption ,queryparsevar, selectedType) {\r\n  if (e.length === 0) {\r\n    return;\r\n  } else {\r\n    console.log(selectedOptionvar)\r\n    if(selectedType !== 'all' || selectedOptionvar.value === 'Education' ){e=[e[e.length-1]]}\r\n    const newCountries = e.map(d => d.value);       \r\n    // pushQuery(history, { country: newCountries });\r\n    history.push({\r\n        pathname: history.pathname,\r\n        search: queryString.stringify({country:newCountries,type:queryparsevar})  \r\n    })\r\n}\r\n}\r\n\r\nfunction handleChangevar(e, d, history, setSelectedOptionvar,queryparse) {\r\n  if (e === null) {\r\n    return;\r\n  } else {\r\n    console.log(queryparse)    \r\n    let newcon = queryparse\r\n    if(e.value === 'Education' ){newcon = typeof(queryparse)===\"string\"? queryparse : [queryparse[queryparse.length-1]]}    \r\n    setSelectedOptionvar(e)\r\n    console.log(newcon)\r\n    history.push({\r\n        pathname: history.pathname,\r\n        search: queryString.stringify({country:newcon,type:e.value})  \r\n    })\r\n}\r\n}\r\n\r\nfunction handleChangeType(e,setSelectedType, history,queryparse,queryparsevar) {\r\n  \r\n  const newcountry = typeof(queryparse)===\"string\"? queryparse : queryparse[queryparse.length-1]\r\n  setSelectedType(e)\r\nhistory.push({\r\n  pathname: history.pathname,\r\n  search: queryString.stringify({country:newcountry,type:queryparsevar,class:e})  \r\n})\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(    \r\n<BrowserRouter>\r\n    <App />\r\n</BrowserRouter>,\r\n document.getElementById('app'));\r\n"],"sourceRoot":""}