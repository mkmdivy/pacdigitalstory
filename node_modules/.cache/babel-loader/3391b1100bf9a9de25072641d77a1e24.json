{"ast":null,"code":"module.exports = element;\nmodule.exports.pair = pair;\nmodule.exports.format = format;\nmodule.exports.formatPair = formatPair;\nmodule.exports.coordToDMS = coordToDMS;\n\nfunction element(input, dims) {\n  var result = search(input, dims);\n  return result === null ? null : result.val;\n}\n\nfunction formatPair(input) {\n  return format(input.lat, 'lat') + ' ' + format(input.lon, 'lon');\n} // Is 0 North or South?\n\n\nfunction format(input, dim) {\n  var dms = coordToDMS(input, dim);\n  return dms.whole + '° ' + (dms.minutes ? dms.minutes + '\\' ' : '') + (dms.seconds ? dms.seconds + '\" ' : '') + dms.dir;\n}\n\nfunction coordToDMS(input, dim) {\n  var dirs = {\n    lat: ['N', 'S'],\n    lon: ['E', 'W']\n  }[dim] || '';\n  var dir = dirs[input >= 0 ? 0 : 1];\n  var abs = Math.abs(input);\n  var whole = Math.floor(abs);\n  var fraction = abs - whole;\n  var fractionMinutes = fraction * 60;\n  var minutes = Math.floor(fractionMinutes);\n  var seconds = Math.floor((fractionMinutes - minutes) * 60);\n  return {\n    whole: whole,\n    minutes: minutes,\n    seconds: seconds,\n    dir: dir\n  };\n}\n\nfunction search(input, dims) {\n  if (!dims) dims = 'NSEW';\n  if (typeof input !== 'string') return null;\n  input = input.toUpperCase();\n  var regex = /^[\\s\\,]*([NSEW])?\\s*([\\-|\\—|\\―]?[0-9.]+)[°º˚]?\\s*(?:([0-9.]+)['’′‘]\\s*)?(?:([0-9.]+)(?:''|\"|”|″)\\s*)?([NSEW])?/;\n  var m = input.match(regex);\n  if (!m) return null; // no match\n\n  var matched = m[0]; // extract dimension.. m[1] = leading, m[5] = trailing\n\n  var dim;\n\n  if (m[1] && m[5]) {\n    // if matched both..\n    dim = m[1]; // keep leading\n\n    matched = matched.slice(0, -1); // remove trailing dimension from match\n  } else {\n    dim = m[1] || m[5];\n  } // if unrecognized dimension\n\n\n  if (dim && dims.indexOf(dim) === -1) return null; // extract DMS\n\n  var deg = m[2] ? parseFloat(m[2]) : 0;\n  var min = m[3] ? parseFloat(m[3]) / 60 : 0;\n  var sec = m[4] ? parseFloat(m[4]) / 3600 : 0;\n  var sign = deg < 0 ? -1 : 1;\n  if (dim === 'S' || dim === 'W') sign *= -1;\n  return {\n    val: (Math.abs(deg) + min + sec) * sign,\n    dim: dim,\n    matched: matched,\n    remain: input.slice(matched.length)\n  };\n}\n\nfunction pair(input, dims) {\n  input = input.trim();\n  var one = search(input, dims);\n  if (!one) return null;\n  input = one.remain.trim();\n  var two = search(input, dims);\n  if (!two || two.remain) return null;\n\n  if (one.dim) {\n    return swapdim(one.val, two.val, one.dim);\n  } else {\n    return [one.val, two.val];\n  }\n}\n\nfunction swapdim(a, b, dim) {\n  if (dim === 'N' || dim === 'S') return [a, b];\n  if (dim === 'W' || dim === 'E') return [b, a];\n}","map":{"version":3,"sources":["C:/mapboxAndReact/node_modules/@mapbox/sexagesimal/index.js"],"names":["module","exports","element","pair","format","formatPair","coordToDMS","input","dims","result","search","val","lat","lon","dim","dms","whole","minutes","seconds","dir","dirs","abs","Math","floor","fraction","fractionMinutes","toUpperCase","regex","m","match","matched","slice","indexOf","deg","parseFloat","min","sec","sign","remain","length","trim","one","two","swapdim","a","b"],"mappings":"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","sourcesContent":["module.exports = element;\nmodule.exports.pair = pair;\nmodule.exports.format = format;\nmodule.exports.formatPair = formatPair;\nmodule.exports.coordToDMS = coordToDMS;\n\n\nfunction element(input, dims) {\n  var result = search(input, dims);\n  return (result === null) ? null : result.val;\n}\n\n\nfunction formatPair(input) {\n  return format(input.lat, 'lat') + ' ' + format(input.lon, 'lon');\n}\n\n\n// Is 0 North or South?\nfunction format(input, dim) {\n  var dms = coordToDMS(input, dim);\n  return dms.whole + '° ' +\n    (dms.minutes ? dms.minutes + '\\' ' : '') +\n    (dms.seconds ? dms.seconds + '\" ' : '') + dms.dir;\n}\n\n\nfunction coordToDMS(input, dim) {\n  var dirs = { lat: ['N', 'S'], lon: ['E', 'W'] }[dim] || '';\n  var dir = dirs[input >= 0 ? 0 : 1];\n  var abs = Math.abs(input);\n  var whole = Math.floor(abs);\n  var fraction = abs - whole;\n  var fractionMinutes = fraction * 60;\n  var minutes = Math.floor(fractionMinutes);\n  var seconds = Math.floor((fractionMinutes - minutes) * 60);\n\n  return {\n    whole: whole,\n    minutes: minutes,\n    seconds: seconds,\n    dir: dir\n  };\n}\n\n\nfunction search(input, dims) {\n  if (!dims) dims = 'NSEW';\n  if (typeof input !== 'string') return null;\n\n  input = input.toUpperCase();\n  var regex = /^[\\s\\,]*([NSEW])?\\s*([\\-|\\—|\\―]?[0-9.]+)[°º˚]?\\s*(?:([0-9.]+)['’′‘]\\s*)?(?:([0-9.]+)(?:''|\"|”|″)\\s*)?([NSEW])?/;\n\n  var m = input.match(regex);\n  if (!m) return null;  // no match\n\n  var matched = m[0];\n\n  // extract dimension.. m[1] = leading, m[5] = trailing\n  var dim;\n  if (m[1] && m[5]) {                 // if matched both..\n    dim = m[1];                       // keep leading\n    matched = matched.slice(0, -1);   // remove trailing dimension from match\n  } else {\n    dim = m[1] || m[5];\n  }\n\n  // if unrecognized dimension\n  if (dim && dims.indexOf(dim) === -1) return null;\n\n  // extract DMS\n  var deg = m[2] ? parseFloat(m[2]) : 0;\n  var min = m[3] ? parseFloat(m[3]) / 60 : 0;\n  var sec = m[4] ? parseFloat(m[4]) / 3600 : 0;\n  var sign = (deg < 0) ? -1 : 1;\n  if (dim === 'S' || dim === 'W') sign *= -1;\n\n  return {\n    val: (Math.abs(deg) + min + sec) * sign,\n    dim: dim,\n    matched: matched,\n    remain: input.slice(matched.length)\n  };\n}\n\n\nfunction pair(input, dims) {\n  input = input.trim();\n  var one = search(input, dims);\n  if (!one) return null;\n\n  input = one.remain.trim();\n  var two = search(input, dims);\n  if (!two || two.remain) return null;\n\n  if (one.dim) {\n    return swapdim(one.val, two.val, one.dim);\n  } else {\n    return [one.val, two.val];\n  }\n}\n\n\nfunction swapdim(a, b, dim) {\n  if (dim === 'N' || dim === 'S') return [a, b];\n  if (dim === 'W' || dim === 'E') return [b, a];\n}\n"]},"metadata":{},"sourceType":"script"}