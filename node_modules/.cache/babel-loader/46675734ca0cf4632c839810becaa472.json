{"ast":null,"code":"import _slicedToArray from\"C:\\\\networkproj\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import DataTable,{createTheme}from\"react-data-table-component\";import mapboxgl from'mapbox-gl';import classes from'./Site.module.css';import MaterialIcon from'material-icons-react';import urbandata from'./urbandata.json';var Urban=function Urban(){mapboxgl.accessToken='pk.eyJ1IjoibWttZCIsImEiOiJjajBqYjJpY2owMDE0Mndsbml0d2V1ZXczIn0.el8wQmA-TSJp2ggX8fJ1rA';var colors=[\"#F3F2E8\",\"#D4EBE2\",\"#B6E3DB\",\"#97DCD5\",\"#79D5CF\",\"#5ACEC9\",\"#3CC6C2\",\"#1DBFBC\",\"#333333\"];var _useState=useState(1000),_useState2=_slicedToArray(_useState,2),Dist=_useState2[0],setDist=_useState2[1];var _useState3=useState(\"Network\"),_useState4=_slicedToArray(_useState3,2),mapnetwork=_useState4[0],setmapnetwork=_useState4[1];createTheme(\"solarized\",{text:{primary:\"rgba(255,255,255,.99)\",secondary:\"rgba(255,255,255,.99)\"},background:{default:null},context:{background:\"#cb4b16\",text:\"#fff\"},divider:{default:\"rgba(0,0,0,.10)\"},action:{button:\"rgba(0,0,0,.54)\",hover:\"rgba(70,0,0,.99)\",disabled:\"rgba(0,0,0,.12)\"},highlightOnHover:{default:\"#e3e3e3\",text:\"#000\"}});var columns=[// {\n//   name: <h2>ID</h2>,\n//   selector: \"Agglomeration_ID\",\n//   sortable: true,\n//   cell: (row) => (\n//     <b>\n//       {row.Agglomeration_ID}\n//     </b>\n//   ),\n// },\n{name:/*#__PURE__*/React.createElement(\"h2\",null,\"Name\"),selector:\"Agglomeration_Name\",sortable:true},{name:/*#__PURE__*/React.createElement(\"h2\",null,\"Pop\"),selector:\"Population_2015\",sortable:true},{name:/*#__PURE__*/React.createElement(\"h2\",null,\"D-Index\"),selector:\"nS\",sortable:true}// {\n//   name: <h2>Country</h2>,\n//   selector: \"Country\",\n//   sortable: true,\n// }\n];var customStyles={rows:{style:{minHeight:\"72px\"}},headCells:{style:{paddingLeft:\"8px\",paddingRight:\"8px\"}},cells:{style:{paddingLeft:\"8px\",paddingRight:\"8px\"}}};var tooltip=function tooltip(e){if(e.payload[0]){return/*#__PURE__*/React.createElement(\"div\",{className:classes.tooltip},\" \",e.payload[0].payload.time,\" \",/*#__PURE__*/React.createElement(\"br\",null),\"SCI \",e.payload[0].payload.time,\"x\");}};var TimeSlider=function TimeSlider(_ref){var Dist=_ref.Dist,width=_ref.width;return/*#__PURE__*/React.createElement(\"div\",{style:{width:\"\".concat(width,\"px\")},className:classes[\"input-slider\"]},/*#__PURE__*/React.createElement(\"input\",{type:\"range\",min:0,max:1000,value:Dist,step:1,onChange:function onChange(event){return setDist(event.target.value);}}),/*#__PURE__*/React.createElement(\"span\",null,Dist,\" Minutes\"));};var _useState5=useState({lng:10,lat:0,zoom:2.5,button:\"Map\"}),_useState6=_slicedToArray(_useState5,2),mapbox=_useState6[0],setmapbox=_useState6[1];var mapContainerRef=useRef(null);var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),map=_useState8[0],setMap=_useState8[1];useEffect(function(){if(!map){var popUp=new mapboxgl.Popup({closeButton:false,closeOnClick:false});var _map=new mapboxgl.Map({container:mapContainerRef.current,style:'mapbox://styles/mkmd/ckh29t4mc06t51aoojdc7v1hl',/// Select mapstyle from mapbox studio\ncenter:[mapbox.lng,mapbox.lat],zoom:mapbox.zoom,attributionControl:false});_map.on('load',function(){setMap(_map);});}},[map]);var moveMap=function moveMap(e){if(e){map.flyTo({center:[e.Longitude,e.Latitude],zoom:11,essential:true});}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.topleft},\" \",/*#__PURE__*/React.createElement(\"div\",{className:classes.headwrapper},/*#__PURE__*/React.createElement(DataTable,{columns:columns,data:urbandata,highlightOnHover:true,dense:true,noHeader:true,theme:\"solarized\",customStyles:customStyles,pagination:true,onRowClicked:function onRowClicked(e){return moveMap(e);}}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{ref:mapContainerRef,className:classes.mapContainer})));};export default Urban;","map":{"version":3,"sources":["C:/networkproj/src/Urban.js"],"names":["React","useState","useEffect","useRef","DataTable","createTheme","mapboxgl","classes","MaterialIcon","urbandata","Urban","accessToken","colors","Dist","setDist","mapnetwork","setmapnetwork","text","primary","secondary","background","default","context","divider","action","button","hover","disabled","highlightOnHover","columns","name","selector","sortable","customStyles","rows","style","minHeight","headCells","paddingLeft","paddingRight","cells","tooltip","e","payload","time","TimeSlider","width","event","target","value","lng","lat","zoom","mapbox","setmapbox","mapContainerRef","map","setMap","popUp","Popup","closeButton","closeOnClick","Map","container","current","center","attributionControl","on","moveMap","flyTo","Longitude","Latitude","essential","topleft","headwrapper","mapContainer"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\r\nimport DataTable, { createTheme } from \"react-data-table-component\";\r\nimport mapboxgl from 'mapbox-gl';\r\nimport classes from './Site.module.css';\r\nimport MaterialIcon from 'material-icons-react';\r\nimport urbandata from './urbandata.json';\r\n\r\nconst Urban = () =>  {\r\n    \r\n    mapboxgl.accessToken = 'pk.eyJ1IjoibWttZCIsImEiOiJjajBqYjJpY2owMDE0Mndsbml0d2V1ZXczIn0.el8wQmA-TSJp2ggX8fJ1rA';\r\n    const colors = [\"#F3F2E8\",\"#D4EBE2\",\"#B6E3DB\",\"#97DCD5\",\"#79D5CF\",\"#5ACEC9\",\"#3CC6C2\",\"#1DBFBC\",\"#333333\"]\r\n\r\n    \r\n  const [Dist, setDist] = useState(1000)  \r\n  const [mapnetwork, setmapnetwork] = useState(\"Network\")  \r\n  \r\n  createTheme(\"solarized\", {\r\n    text: {\r\n      primary: \"rgba(255,255,255,.99)\",\r\n      secondary: \"rgba(255,255,255,.99)\",\r\n      \r\n    },\r\n\r\n    background: {\r\n      default: null,\r\n    },\r\n    context: {\r\n      background: \"#cb4b16\",\r\n      text: \"#fff\",\r\n    },\r\n    divider: {\r\n      default: \"rgba(0,0,0,.10)\",\r\n    },\r\n    action: {\r\n      button: \"rgba(0,0,0,.54)\",\r\n      hover: \"rgba(70,0,0,.99)\",\r\n      disabled: \"rgba(0,0,0,.12)\",\r\n    },\r\n    highlightOnHover: {\r\n      default: \"#e3e3e3\",\r\n      text: \"#000\",\r\n    },\r\n  });\r\n\r\n  const columns = [\r\n    // {\r\n    //   name: <h2>ID</h2>,\r\n    //   selector: \"Agglomeration_ID\",\r\n    //   sortable: true,\r\n    //   cell: (row) => (\r\n    //     <b>\r\n    //       {row.Agglomeration_ID}\r\n    //     </b>\r\n    //   ),\r\n    // },\r\n    {\r\n      name: <h2>Name</h2>,\r\n      selector: \"Agglomeration_Name\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: <h2>Pop</h2>,\r\n      selector: \"Population_2015\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: <h2>D-Index</h2>,\r\n      selector: \"nS\",\r\n      sortable: true,\r\n    },\r\n    // {\r\n    //   name: <h2>Country</h2>,\r\n    //   selector: \"Country\",\r\n    //   sortable: true,\r\n    // }\r\n  ];\r\n\r\n  const customStyles = {\r\n    rows: {\r\n      style: {\r\n        minHeight: \"72px\",\r\n      },\r\n    },\r\n    headCells: {\r\n      style: {\r\n        paddingLeft: \"8px\",\r\n        paddingRight: \"8px\",\r\n      },\r\n    },\r\n    cells: {\r\n      style: {\r\n        paddingLeft: \"8px\",\r\n        paddingRight: \"8px\",\r\n      },\r\n    },\r\n  };\r\n\r\n  \r\n\r\n  \r\n  \r\n\r\n\r\n  const tooltip = e => {\r\n    if (e.payload[0]) {\r\n    return ( <div className={classes.tooltip}> {e.payload[0].payload.time} <br/>SCI {e.payload[0].payload.time}x</div> ) }\r\n  }\r\n\r\n  const TimeSlider = ({ Dist, width }) => {\r\n    return (    \r\n      <div style={{ width: `${width}px` }} className={classes[\"input-slider\"]}>\r\n        <input type=\"range\"\r\n          min={0}\r\n          max={1000}\r\n          value={Dist}\r\n          step={1}\r\n          onChange={event =>\r\n             setDist(event.target.value)\r\n            }\r\n        />\r\n        {<span>{Dist} Minutes</span>}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  \r\n const [mapbox, setmapbox] = useState( {lng: 10,\r\n    lat: 0,\r\n    zoom: 2.5,\r\n    button: \"Map\"} );\r\n\r\n    const mapContainerRef = useRef(null);\r\n\r\n    const [map, setMap] = useState(null);\r\n\r\n    \r\n\r\n    useEffect(() => { \r\n  \r\n        if (!map) {\r\n        const popUp = new mapboxgl.Popup({\r\n            closeButton: false,\r\n            closeOnClick: false\r\n        });\r\n      \r\n        const map = new mapboxgl.Map({\r\n        container: mapContainerRef.current,\r\n        style: 'mapbox://styles/mkmd/ckh29t4mc06t51aoojdc7v1hl', /// Select mapstyle from mapbox studio\r\n        center: [mapbox.lng, mapbox.lat],\r\n        zoom: mapbox.zoom,\r\n        attributionControl: false\r\n      });\r\n                    \r\n      map.on('load', () => {\r\n        setMap(map);\r\n        });\r\n      }},[map]);\r\n      \r\nconst moveMap = e => {\r\n        if(e) {        \r\n        map.flyTo({center: [e.Longitude ,e.Latitude], zoom:11, essential: true });\r\n              }}\r\n  \r\n  \r\n      \r\n\r\n\r\nreturn (\r\n    <div>\r\n    <div className={classes.topleft}> <div className={classes.headwrapper}> \r\n    <DataTable\r\n        columns={columns}\r\n        data={urbandata}\r\n        highlightOnHover={true}\r\n        dense={true}\r\n        noHeader={true}\r\n        theme=\"solarized\"\r\n        customStyles={customStyles}\r\n        pagination={true}\r\n        onRowClicked={e => moveMap(e)}\r\n      />        \r\n          </div></div>\r\n<div><div ref={mapContainerRef} className={classes.mapContainer} /></div>\r\n</div>\r\n\r\n\r\n);\r\n}\r\n\r\nexport default Urban;\r\n"]},"metadata":{},"sourceType":"module"}