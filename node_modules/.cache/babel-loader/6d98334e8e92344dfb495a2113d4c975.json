{"ast":null,"code":"var _jsxFileName = \"C:\\\\networkproj\\\\src\\\\Urban.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport DataTable, { createTheme } from \"react-data-table-component\";\nimport mapboxgl from 'mapbox-gl';\nimport classes from './Site.module.css';\nimport MaterialIcon from 'material-icons-react';\nimport africa from './africa.json';\n\nconst Urban = () => {\n  mapboxgl.accessToken = 'pk.eyJ1IjoibWttZCIsImEiOiJjajBqYjJpY2owMDE0Mndsbml0d2V1ZXczIn0.el8wQmA-TSJp2ggX8fJ1rA';\n  const colors = [\"#F3F2E8\", \"#D4EBE2\", \"#B6E3DB\", \"#97DCD5\", \"#79D5CF\", \"#5ACEC9\", \"#3CC6C2\", \"#1DBFBC\", \"#333333\"];\n  const [Dist, setDist] = useState(1000);\n  const [mapnetwork, setmapnetwork] = useState(\"Network\");\n  createTheme(\"solarized\", {\n    text: {\n      primary: \"rgba(0,0,0,.99)\",\n      secondary: \"#2aa198\"\n    },\n    context: {\n      background: \"#cb4b16\",\n      text: \"#fff\"\n    },\n    divider: {\n      default: \"rgba(0,0,0,.10)\"\n    },\n    action: {\n      button: \"rgba(0,0,0,.54)\",\n      hover: \"rgba(70,0,0,.99)\",\n      disabled: \"rgba(0,0,0,.12)\"\n    },\n    highlightOnHover: {\n      default: \"#e3e3e3\",\n      text: \"#000\"\n    }\n  });\n  const columns = [{\n    name: /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, \"Name\"),\n    selector: \"Name\",\n    sortable: true,\n    cell: row => /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }, row.Name)\n  }, {\n    name: /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, \"1950\"),\n    selector: \"1950\",\n    sortable: true\n  }, {\n    name: /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, \"1960\"),\n    selector: \"1960\",\n    sortable: true\n  }, {\n    name: /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, \"1970\"),\n    selector: \"1970\",\n    sortable: true\n  }, {\n    name: /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, \"1980\"),\n    selector: \"1980\",\n    sortable: true\n  }, {\n    name: /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, \"1990\"),\n    selector: \"1990\",\n    sortable: true\n  }, {\n    name: /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, \"2000\"),\n    selector: \"2000\",\n    sortable: true\n  }, {\n    name: /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, \"2010\"),\n    selector: \"2010\",\n    sortable: true\n  }, {\n    name: /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, \"2015\"),\n    selector: \"2015\",\n    sortable: true\n  }];\n  const customStyles = {\n    rows: {\n      style: {\n        minHeight: \"72px\"\n      }\n    },\n    headCells: {\n      style: {\n        paddingLeft: \"8px\",\n        paddingRight: \"8px\"\n      }\n    },\n    cells: {\n      style: {\n        paddingLeft: \"8px\",\n        paddingRight: \"8px\"\n      }\n    }\n  };\n\n  const tooltip = e => {\n    if (e.payload[0]) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.tooltip,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 14\n        }\n      }, \" \", e.payload[0].payload.time, \" \", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 76\n        }\n      }), \"SCI \", e.payload[0].payload.time, \"x\");\n    }\n  };\n\n  const TimeSlider = ({\n    Dist,\n    width\n  }) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: `${width}px`\n      },\n      className: classes[\"input-slider\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"range\",\n      min: 0,\n      max: 1000,\n      value: Dist,\n      step: 1,\n      onChange: event => setDist(event.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 10\n      }\n    }, Dist, \" Minutes\"));\n  };\n\n  const [mapbox, setmapbox] = useState({\n    lng: 10,\n    lat: 0,\n    zoom: 2.5,\n    button: \"Map\"\n  });\n  const mapContainerRef = useRef(null);\n  const [map, setMap] = useState(null);\n  useEffect(() => {\n    if (!map) {\n      const popUp = new mapboxgl.Popup({\n        closeButton: false,\n        closeOnClick: false\n      });\n      const map = new mapboxgl.Map({\n        container: mapContainerRef.current,\n        style: 'mapbox://styles/mkmd/ckguwdhux0j7719p9rz2hpmpi',\n        /// Select mapstyle from mapbox studio\n        center: [mapbox.lng, mapbox.lat],\n        zoom: mapbox.zoom,\n        attributionControl: false\n      });\n      map.on('load', () => {\n        setMap(map);\n        map.addSource('node-237nu4', {\n          type: 'vector',\n          url: 'mapbox://mkmd.1ya649n5'\n        });\n        map.addSource('edge-dm0qvz', {\n          type: 'vector',\n          url: 'mapbox://mkmd.1rxtvzvy'\n        });\n        map.addLayer({\n          id: 'edge',\n          source: 'edge-dm0qvz',\n          type: \"line\",\n          'source-layer': 'edge-dm0qvz',\n          // filter: [ \"match\", [\"get\", \"iso_3166_1\"], [\"TJ\",\"IR\",\"CN\", \"GL\", \"SJ\", \"TM\", \"EH\", \"KP\" ], false, true ],\n          paint: {\n            \"line-color\": [\"match\", [\"get\", \"border\"], [\"0\"], colors[0], \"red\"]\n          }\n        });\n        map.addLayer({\n          id: 'node',\n          source: 'node-237nu4',\n          type: \"circle\",\n          'source-layer': 'node-237nu4',\n          // filter: [ \"match\", [\"get\", \"iso_3166_1\"], [\"TJ\",\"IR\",\"CN\", \"GL\", \"SJ\", \"TM\", \"EH\", \"KP\" ], false, true ],\n          paint: {\n            \"circle-radius\": [\"step\", [\"get\", `Pop2015`], 2.5, 10000, 3, 30000, 4, 100000, 6, 300000, 8, 1000000, 10, 2000000, 13, 11847635, 15],\n            \"circle-color\": [\"step\", [\"get\", `Pop2015`], colors[0], 10000, colors[1], 30000, colors[2], 100000, colors[3], 300000, colors[4], 1000000, colors[5], 2000000, colors[6], 11847635, colors[7]],\n            \"circle-stroke-width\": 1,\n            \"circle-stroke-opacity\": [\"interpolate\", [\"linear\"], [\"zoom\"], 0, 0, 3, 0, 15, 1],\n            \"circle-opacity\": [\"interpolate\", [\"linear\"], [\"zoom\"], 0, 0, 3, 0.4, 10, 1] // [\n            //   \"case\",\n            //   [\"boolean\", [\"feature-state\", \"hover\"], false],\n            //   1,\n            //   0.7,\n            // ],\n\n          }\n        });\n        map.on('mousemove', 'node', e => {\n          let coordinates = [e.lngLat.lng, e.lngLat.lat];\n          popUp.setLngLat(coordinates).setHTML(`<bold>${e.features[0].properties.Region} Africa</bold><br/>\n            ${e.features[0].properties.agglosName}<br/>\n            <strong>${e.features[0].properties.Pop2015}</strong><br/><bold>${e.features[0].properties.ISO3}</bold><br/>\n            <small>Degree: ${e.features[0].properties.degree}</small>`).addTo(map);\n          var popupElem = popUp.getElement();\n          popupElem.style.color = colors[0];\n        });\n        map.on('mouseleave', 'node', e => {\n          map.getCanvas().style.cursor = '';\n          popUp.remove();\n        });\n        map.on('mousemove', 'edge', e => {\n          let coordinates = [e.lngLat.lng, e.lngLat.lat];\n          popUp.setLngLat(coordinates).setHTML(`<bold>Time: ${Math.round(e.features[0].properties.time)}min</bold><br/>\n            <bold>Time Ur :${Math.round(e.features[0].properties.timeU)}min</bold><br/>\n            <bold>Time Ur&CB${Math.round(e.features[0].properties.value)}min</bold><br/>\n            `).addTo(map);\n          var popupElem = popUp.getElement();\n          popupElem.style.color = colors[0];\n        }); // map.on('mouseleave', 'edge', e =>  {\n        //   map.getCanvas().style.cursor = ''\n        //   popUp.remove()\n        // });\n      });\n    }\n  }, [map]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    columns: {\n      \"columns\": \"sss\",\n      \"columns\": \"sss\"\n    },\n    data: {\n      \"columns\": \"sss\",\n      \"columns\": \"sss\"\n    },\n    highlightOnHover: true,\n    dense: true,\n    noHeader: true,\n    theme: \"solarized\",\n    customStyles: customStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.topleft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 5\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.headwrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 39\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.buttonwrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 77\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: mapnetwork === \"Map\" ? classes.buttonActive : classes.button,\n    onClick: () => mapnetwork === \"Network\" ? setmapnetwork(\"Map\") : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 5\n    }\n  }, \"Map\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: mapnetwork === \"Network\" ? classes.buttonActive : classes.button,\n    onClick: () => mapnetwork === \"Map\" ? setmapnetwork(\"Network\") : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 5\n    }\n  }, \"Network\")), /*#__PURE__*/React.createElement(\"headtitle\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 5\n    }\n  }, \"Cities and roads in Africa\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 60\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 5\n    }\n  }, \"Set the border cost\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: Dist === 0 ? classes.buttonActivedist : classes.buttondist,\n    onClick: () => mapnetwork === \"Network\" ? setDist(0) : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 5\n    }\n  }, \"0min\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: Dist === 60 ? classes.buttonActivedist : classes.buttondist,\n    onClick: () => mapnetwork === \"Network\" ? setDist(60) : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 5\n    }\n  }, \"60min\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: Dist === 300 ? classes.buttonActivedist : classes.buttondist,\n    onClick: () => mapnetwork === \"Network\" ? setDist(300) : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 5\n    }\n  }, \"300min\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: Dist === 1000 ? classes.buttonActivedist : classes.buttondist,\n    onClick: () => mapnetwork === \"Network\" ? setDist(1000) : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 5\n    }\n  }, \"1000min\"), /*#__PURE__*/React.createElement(TimeSlider, {\n    Dist: Dist,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    className: classes.table,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"VariableInfoWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MaterialIcon, {\n    icon: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 21\n    }\n  }, \"How it is calculated?\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 59\n    }\n  }), \"The Social Connectedness Index measures the strength of connectedness between two geographic areas as represented by Facebook friendship ties.\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 157\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 162\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 15\n    }\n  }, \"Methodology\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 43\n    }\n  }), \"We use aggregated friendship connections on Facebook to measure social connectedness between geographies. Locations are assigned to users based on information they provide, connection information, and location services they have opted into. We use these friendships to estimate the probability a pair of users in these countries are Facebook friends and map this to an index score called the Social Connectedness Index (SCI). If the SCI is twice as large between two pairs of regions, it means the users in the first region-pair are about twice as likely to be connected than the second region-pair.\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 614\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 619\n    }\n  }), \"The figure shows a heat map of the social connectedness. For each country in our data, the colors highlight connections of the focal country, given in orange. The lightest color corresponds to the 20th percentile of the connectedness to the focal country; darker colors correspond to closer connections.\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(\"color\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 23\n    }\n  }, \"Click the right button to check more detail and download the data on the Facebook page\"), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FB\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://dataforgood.fb.com/tools/social-connectedness-index/#:~:text=The%20Social%20Connectedness%20Index%20measures,social%20mobility%2C%20trade%20and%20more.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MaterialIcon, {\n    icon: \"facebook\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 15\n    }\n  }, \"Move to the Facebook Data for Good page to check detail and download the data\")))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: mapContainerRef,\n    className: classes.mapContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 6\n    }\n  })));\n};\n\nexport default Urban;","map":{"version":3,"sources":["C:/networkproj/src/Urban.js"],"names":["React","useState","useEffect","useRef","DataTable","createTheme","mapboxgl","classes","MaterialIcon","africa","Urban","accessToken","colors","Dist","setDist","mapnetwork","setmapnetwork","text","primary","secondary","context","background","divider","default","action","button","hover","disabled","highlightOnHover","columns","name","selector","sortable","cell","row","Name","customStyles","rows","style","minHeight","headCells","paddingLeft","paddingRight","cells","tooltip","e","payload","time","TimeSlider","width","event","target","value","mapbox","setmapbox","lng","lat","zoom","mapContainerRef","map","setMap","popUp","Popup","closeButton","closeOnClick","Map","container","current","center","attributionControl","on","addSource","type","url","addLayer","id","source","paint","coordinates","lngLat","setLngLat","setHTML","features","properties","Region","agglosName","Pop2015","ISO3","degree","addTo","popupElem","getElement","color","getCanvas","cursor","remove","Math","round","timeU","topleft","headwrapper","buttonwrapper","buttonActive","buttonActivedist","buttondist","table","mapContainer"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\r\nimport DataTable, { createTheme } from \"react-data-table-component\";\r\nimport mapboxgl from 'mapbox-gl';\r\nimport classes from './Site.module.css';\r\nimport MaterialIcon from 'material-icons-react';\r\nimport africa from './africa.json';\r\n\r\nconst Urban = () =>  {\r\n    \r\n    mapboxgl.accessToken = 'pk.eyJ1IjoibWttZCIsImEiOiJjajBqYjJpY2owMDE0Mndsbml0d2V1ZXczIn0.el8wQmA-TSJp2ggX8fJ1rA';\r\n    const colors = [\"#F3F2E8\",\"#D4EBE2\",\"#B6E3DB\",\"#97DCD5\",\"#79D5CF\",\"#5ACEC9\",\"#3CC6C2\",\"#1DBFBC\",\"#333333\"]\r\n\r\n    \r\n  const [Dist, setDist] = useState(1000)  \r\n  const [mapnetwork, setmapnetwork] = useState(\"Network\")  \r\n  \r\n  createTheme(\"solarized\", {\r\n    text: {\r\n      primary: \"rgba(0,0,0,.99)\",\r\n      secondary: \"#2aa198\",\r\n    },\r\n\r\n    context: {\r\n      background: \"#cb4b16\",\r\n      text: \"#fff\",\r\n    },\r\n    divider: {\r\n      default: \"rgba(0,0,0,.10)\",\r\n    },\r\n    action: {\r\n      button: \"rgba(0,0,0,.54)\",\r\n      hover: \"rgba(70,0,0,.99)\",\r\n      disabled: \"rgba(0,0,0,.12)\",\r\n    },\r\n    highlightOnHover: {\r\n      default: \"#e3e3e3\",\r\n      text: \"#000\",\r\n    },\r\n  });\r\n\r\n  const columns = [\r\n    {\r\n      name: <h2>Name</h2>,\r\n      selector: \"Name\",\r\n      sortable: true,\r\n      cell: (row) => (\r\n        <b>\r\n          {row.Name}\r\n        </b>\r\n      ),\r\n    },\r\n    {\r\n      name: <h2>1950</h2>,\r\n      selector: \"1950\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: <h2>1960</h2>,\r\n      selector: \"1960\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: <h2>1970</h2>,\r\n      selector: \"1970\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: <h2>1980</h2>,\r\n      selector: \"1980\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: <h2>1990</h2>,\r\n      selector: \"1990\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: <h2>2000</h2>,\r\n      selector: \"2000\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: <h2>2010</h2>,\r\n      selector: \"2010\",\r\n      sortable: true,\r\n    },\r\n    {\r\n      name: <h2>2015</h2>,\r\n      selector: \"2015\",\r\n      sortable: true,\r\n    },\r\n  ];\r\n\r\n  const customStyles = {\r\n    rows: {\r\n      style: {\r\n        minHeight: \"72px\",\r\n      },\r\n    },\r\n    headCells: {\r\n      style: {\r\n        paddingLeft: \"8px\",\r\n        paddingRight: \"8px\",\r\n      },\r\n    },\r\n    cells: {\r\n      style: {\r\n        paddingLeft: \"8px\",\r\n        paddingRight: \"8px\",\r\n      },\r\n    },\r\n  };\r\n\r\n\r\n\r\n  const tooltip = e => {\r\n    if (e.payload[0]) {\r\n    return ( <div className={classes.tooltip}> {e.payload[0].payload.time} <br/>SCI {e.payload[0].payload.time}x</div> ) }\r\n  }\r\n\r\n  const TimeSlider = ({ Dist, width }) => {\r\n    return (    \r\n      <div style={{ width: `${width}px` }} className={classes[\"input-slider\"]}>\r\n        <input type=\"range\"\r\n          min={0}\r\n          max={1000}\r\n          value={Dist}\r\n          step={1}\r\n          onChange={event =>\r\n             setDist(event.target.value)\r\n            }\r\n        />\r\n        {<span>{Dist} Minutes</span>}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  \r\n const [mapbox, setmapbox] = useState( {lng: 10,\r\n    lat: 0,\r\n    zoom: 2.5,\r\n    button: \"Map\"} );\r\n\r\n    const mapContainerRef = useRef(null);\r\n\r\n    const [map, setMap] = useState(null);\r\n\r\n    \r\n\r\n    useEffect(() => { \r\n  \r\n        if (!map) {\r\n        const popUp = new mapboxgl.Popup({\r\n            closeButton: false,\r\n            closeOnClick: false\r\n        });\r\n      \r\n        const map = new mapboxgl.Map({\r\n        container: mapContainerRef.current,\r\n        style: 'mapbox://styles/mkmd/ckguwdhux0j7719p9rz2hpmpi', /// Select mapstyle from mapbox studio\r\n        center: [mapbox.lng, mapbox.lat],\r\n        zoom: mapbox.zoom,\r\n        attributionControl: false\r\n      });\r\n        \r\n      \r\n      map.on('load', () => {\r\n        setMap(map);\r\n        map.addSource('node-237nu4', { type: 'vector', url: 'mapbox://mkmd.1ya649n5'});\r\n        map.addSource('edge-dm0qvz', { type: 'vector', url: 'mapbox://mkmd.1rxtvzvy'});\r\n        map.addLayer({\r\n          id: 'edge',\r\n          source:'edge-dm0qvz',\r\n          type : \"line\",\r\n          'source-layer':'edge-dm0qvz',\r\n          // filter: [ \"match\", [\"get\", \"iso_3166_1\"], [\"TJ\",\"IR\",\"CN\", \"GL\", \"SJ\", \"TM\", \"EH\", \"KP\" ], false, true ],\r\n          paint: {\r\n            \"line-color\" : [\"match\", [\"get\",\"border\"],\r\n             [\"0\"],colors[0],\r\n             \"red\"\r\n          ]\r\n          },\r\n        })\r\n        \r\n        map.addLayer({\r\n          id: 'node',\r\n          source:'node-237nu4',\r\n          type : \"circle\",\r\n          'source-layer':'node-237nu4',\r\n          // filter: [ \"match\", [\"get\", \"iso_3166_1\"], [\"TJ\",\"IR\",\"CN\", \"GL\", \"SJ\", \"TM\", \"EH\", \"KP\" ], false, true ],\r\n          paint: {\r\n            \"circle-radius\":  [\r\n              \"step\",\r\n              [\"get\", `Pop2015`],\r\n              2.5,\r\n              10000,\r\n              3,\r\n              30000,\r\n              4,\r\n              100000,\r\n              6,\r\n              300000,\r\n              8,\r\n              1000000,\r\n              10,\r\n              2000000,\r\n              13,\r\n              11847635,\r\n              15,\r\n            ]\r\n            ,\r\n            \"circle-color\": [\r\n              \"step\",\r\n              [\"get\", `Pop2015`],\r\n              colors[0],\r\n              10000,\r\n              colors[1],\r\n              30000,\r\n              colors[2],\r\n              100000,\r\n              colors[3],\r\n              300000,\r\n              colors[4],\r\n              1000000,\r\n              colors[5],\r\n              2000000,\r\n              colors[6],\r\n              11847635,\r\n              colors[7],\r\n            ],\r\n        \r\n            \"circle-stroke-width\": 1,\r\n            \"circle-stroke-opacity\": [\r\n              \"interpolate\",\r\n              [\"linear\"],\r\n              [\"zoom\"],\r\n              0,\r\n              0,\r\n              3,\r\n              0,\r\n              15,\r\n              1,\r\n            ],\r\n            \"circle-opacity\": [\r\n              \"interpolate\",\r\n              [\"linear\"],\r\n              [\"zoom\"],\r\n              0,\r\n              0,\r\n              3,\r\n              0.4,\r\n              10,\r\n              1\r\n            ]\r\n        \r\n            \r\n            // [\r\n            //   \"case\",\r\n            //   [\"boolean\", [\"feature-state\", \"hover\"], false],\r\n            //   1,\r\n            //   0.7,\r\n            // ],\r\n          },\r\n        });\r\n        map.on('mousemove', 'node', e =>  {\r\n          let coordinates = [e.lngLat.lng, e.lngLat.lat];\r\n          popUp\r\n            .setLngLat(coordinates)\r\n            .setHTML(\r\n            `<bold>${e.features[0].properties.Region} Africa</bold><br/>\r\n            ${e.features[0].properties.agglosName}<br/>\r\n            <strong>${e.features[0].properties.Pop2015}</strong><br/><bold>${e.features[0].properties.ISO3}</bold><br/>\r\n            <small>Degree: ${e.features[0].properties.degree}</small>`\r\n            )\r\n            .addTo(map);\r\n            var popupElem = popUp.getElement();\r\n            popupElem.style.color = colors[0];\r\n        });\r\n      \r\n        map.on('mouseleave', 'node', e =>  {\r\n          map.getCanvas().style.cursor = ''\r\n          popUp.remove()\r\n        });\r\n        \r\n        \r\n        map.on('mousemove', 'edge', e =>  {\r\n          let coordinates = [e.lngLat.lng, e.lngLat.lat];\r\n          popUp\r\n            .setLngLat(coordinates)\r\n            .setHTML(\r\n            `<bold>Time: ${Math.round(e.features[0].properties.time)}min</bold><br/>\r\n            <bold>Time Ur :${Math.round(e.features[0].properties.timeU)}min</bold><br/>\r\n            <bold>Time Ur&CB${Math.round(e.features[0].properties.value)}min</bold><br/>\r\n            `\r\n            )\r\n            .addTo(map);\r\n            var popupElem = popUp.getElement();\r\n            popupElem.style.color = colors[0];\r\n        });\r\n      \r\n        // map.on('mouseleave', 'edge', e =>  {\r\n        //   map.getCanvas().style.cursor = ''\r\n        //   popUp.remove()\r\n        // });\r\n      \r\n      \r\n        });\r\n      }},[map]);\r\n      \r\n      \r\n\r\n\r\nreturn (\r\n    <div>\r\n            <DataTable\r\n        columns={{\"columns\":\"sss\",\"columns\":\"sss\"}}\r\n        data={{\"columns\":\"sss\",\"columns\":\"sss\"}}\r\n        highlightOnHover={true}\r\n        dense={true}\r\n        noHeader={true}\r\n        theme=\"solarized\"\r\n        customStyles={customStyles}\r\n      />\r\n\r\n    <div className={classes.topleft}> <div className={classes.headwrapper}> <div className={classes.buttonwrapper}>          \r\n    <button className={mapnetwork===\"Map\"? classes.buttonActive : classes.button} onClick={() => mapnetwork===\"Network\"? setmapnetwork(\"Map\") : null}>{\"Map\"}</button>\r\n    <button className={mapnetwork===\"Network\"? classes.buttonActive : classes.button} onClick={() => mapnetwork===\"Map\"? setmapnetwork(\"Network\") : null}>{\"Network\"}</button></div>\r\n    <headtitle>Cities and roads in Africa</headtitle></div><br/>\r\n    <span>Set the border cost</span><br/>\r\n    <button className={Dist===0? classes.buttonActivedist : classes.buttondist} onClick={() => mapnetwork===\"Network\"? setDist(0) : null}>{\"0min\"}</button>\r\n    <button className={Dist===60? classes.buttonActivedist : classes.buttondist} onClick={() => mapnetwork===\"Network\"? setDist(60) : null}>{\"60min\"}</button>\r\n    <button className={Dist===300? classes.buttonActivedist : classes.buttondist} onClick={() => mapnetwork===\"Network\"? setDist(300) : null}>{\"300min\"}</button>\r\n    <button className={Dist===1000? classes.buttonActivedist : classes.buttondist} onClick={() => mapnetwork===\"Network\"? setDist(1000) : null}>{\"1000min\"}</button>    \r\n    <TimeSlider Dist={Dist}/>\r\n    <table className={classes.table}>\r\n        <thead>\r\n          <tr>\r\n            {/* <th>Country</th><th>Road</th><th>Network</th> */}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          \r\n        </tbody>\r\n      </table>\r\n    {/* <br/> <span>Regional average</span> */}\r\n          <div className=\"VariableInfoWrapper\">\r\n              <MaterialIcon icon=\"info\"/>\r\n              <span><strong>How it is calculated?</strong><br/>\r\n              The Social Connectedness Index measures the strength of connectedness between two geographic areas as represented by Facebook friendship ties.<br/><br/>\r\n              <strong>Methodology</strong><br/>\r\n              We use aggregated friendship connections on Facebook to measure social connectedness between geographies. Locations are assigned to users based on information they provide, connection information, and location services they have opted into. We use these friendships to estimate the probability a pair of users in these countries are Facebook friends and map this to an index score called the Social Connectedness Index (SCI). If the SCI is twice as large between two pairs of regions, it means the users in the first region-pair are about twice as likely to be connected than the second region-pair.<br/><br/>\r\n            The figure shows a heat map of the social connectedness. For each country in our data, the colors highlight connections of the focal country, given in orange. The lightest color corresponds to the 20th percentile of the connectedness to the focal country; darker colors correspond to closer connections.\r\n            <br/><br/><color>Click the right button to check more detail and download the data on the Facebook page</color> </span>\r\n          </div>\r\n          <div className=\"FB\">\r\n          <a href=\"https://dataforgood.fb.com/tools/social-connectedness-index/#:~:text=The%20Social%20Connectedness%20Index%20measures,social%20mobility%2C%20trade%20and%20more.\">\r\n              <MaterialIcon icon=\"facebook\"/>\r\n              <span>Move to the Facebook Data for Good page to check detail and download the data</span>\r\n          </a>\r\n          </div></div>\r\n<div><div ref={mapContainerRef} className={classes.mapContainer} /></div>\r\n</div>\r\n\r\n);\r\n}\r\n\r\nexport default Urban;\r\n"]},"metadata":{},"sourceType":"module"}