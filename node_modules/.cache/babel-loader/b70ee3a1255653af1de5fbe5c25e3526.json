{"ast":null,"code":"import _slicedToArray from\"C:\\\\greentech\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:\\\\greentech\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import React,{useState,useRef,useEffect}from'react';import Select from'react-select';import'./index.css';import greendb from'./greendb.json';import wordlist from'./wordlist.json';import classes from'./Site.module.css';import{Badge,Chip}from'@material-ui/core';import{makeStyles}from'@material-ui/core/styles';import StackGrid from\"react-stack-grid\";import{Web,Videocam,Description,PictureAsPdf}from'@material-ui/icons';import ReactGA from'react-ga';var App=function App(props){ReactGA.initialize('UA-156295886-1');ReactGA.set({page:window.location.pathname});ReactGA.pageview(window.location.pathname+window.location.search);var useStyles=makeStyles(function(theme){return{root:{display:'flex',justifyContent:'center',flexWrap:'wrap','& > *':{margin:theme.spacing(0.5)}}};});var chipclasses=useStyles();var customStyles={control:function control(base,state){return _objectSpread({},base,{background:\"rgba(45,45,45,1)\",// match with the menu\nborderRadius:state.isFocused?\"3px 3px 0 0\":3,// Overwrittes the different states of border\nborderColor:state.isFocused?\"rgba(255,255,255,1)\":\"rgba(255,255,255,1)\"// Removes weird border around container      \n// \"&:hover\": {\n//   // Overwrittes the different states of border\n//   borderColor: state.isFocused ? \"red\" : \"blue\"\n// }\n});},menu:function menu(base){return _objectSpread({},base,{// override border radius to match the box\nborderRadius:0,// kill the gap\nmarginTop:0});},menuList:function menuList(base){return _objectSpread({},base,{// kill the white space on first and last option\npadding:0});},singleValue:function singleValue(base){return _objectSpread({},base,{color:'white'});}};var handleClick=function handleClick(e){setSelectedOption({value:e,label:e});};var top5buttons=function top5buttons(){return/*#__PURE__*/React.createElement(\"div\",{class:chipclasses.root},/*#__PURE__*/React.createElement(\"button\",{value:'',onClick:function onClick(e){return handleClick(e.target.value);}},\"Select all\"),options.slice(0,10).map(function(e,i){return/*#__PURE__*/React.createElement(Badge,{badgeContent:freqSorted[i],color:freqSorted[i]>50?\"secondary\":freqSorted[i]>40?\"error\":\"primary\"},/*#__PURE__*/React.createElement(Chip,{label:e.value,onClick:function onClick(){return handleClick(e.value);}}));}));};var dataPresent=function dataPresent(input){return/*#__PURE__*/React.createElement(StackGrid,{columnWidth:230,gutterWidth:10,gridRef:function gridRef(grid){return grid=grid;}},result.slice(0,150).map(function(e,idx){return/*#__PURE__*/React.createElement(\"a\",{href:e.Link,target:\"_blank\"},/*#__PURE__*/React.createElement(\"button\",{key:idx,className:e.Type===\"Website\"?classes.buttonW:e.Type==='Video'?classes.buttonV:e.Type==='Article'?classes.buttonA:classes.buttonR},e.Name.slice(0,55),/*#__PURE__*/React.createElement(\"div\",{style:{position:\"fixed\",right:5,bottom:5}},e.Type===\"Website\"?/*#__PURE__*/React.createElement(Web,null):e.Type==='Video'?/*#__PURE__*/React.createElement(Videocam,null):e.Type==='Article'?/*#__PURE__*/React.createElement(Description,null):/*#__PURE__*/React.createElement(PictureAsPdf,null)),\" \"),/*#__PURE__*/React.createElement(\"br\",null));}));};{/* <button className={classes.buttonActive}>{e.Name}</button> */}var _useState=useState({value:'',label:'Search'}),_useState2=_slicedToArray(_useState,2),selectedOption=_useState2[0],setSelectedOption=_useState2[1];console.log(selectedOption);// +\"  \"+e.freq\nvar options=[];var wordcount=[];var wordAvoid=[\"THE\",\"OF\",\"IN\",\"AND\",\"TO\",\"FOR\",\"A\",\"IS\",\"WITH\",\"ON\",\"FROM\",\"-\",\"USING\",\"HOW\",\"BY\",\"NEW\",\"INTO\",\"AN\",\"&\",\"WHAT\",\"ABOUT\",2020,\"ARE\",\"AT\",\"IT\",\"CHANGE\",\"FIRST\",10,\"WORLD?????S\",\"USE\",\"OVER\",\"HAS\",\"|\",\"ONE\",2019,\"TIME\",2050,\"OR\",\"?????\",\":\"];// wordlist.map(e => options.push({value: e.name, label: e.name}))\ngreendb.map(function(e){e.keyword=e.Name.toUpperCase().split(' ');// e.keyword.map(x => wordcount.push(x))    \n});// greendb.map(e => console.log(e.keyword))\nvar _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),web=_useState4[0],setweb=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),video=_useState6[0],setvideo=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),report=_useState8[0],setreport=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),article=_useState10[0],setarticle=_useState10[1];var typelist=[];if(web){typelist.push(\"Website\");}if(video){typelist.push(\"Video\");}if(report){typelist.push(\"Report\");}if(article){typelist.push(\"Article\");}console.log(typelist);var result=selectedOption.value==''?greendb.filter(function(e){return typelist.includes(e.Type);}):greendb.filter(function(e){return typelist.includes(e.Type)&&e.keyword.includes(selectedOption.value);});result.map(function(e){return e.keyword.map(function(x){return wordcount.push(x);});});var wordresult=wordcount.filter(function(e){return!wordAvoid.includes(e);});// console.log(wordcount)\nvar counts={};wordresult.map(function(num){return counts[num]=counts[num]?counts[num]+1:1;});// console.log(counts)\n// console.log(selectedOption)\nvar keysSorted=Object.keys(counts).sort(function(b,a){return counts[a]-counts[b];});console.log(keysSorted);// bar,me,you,foo\nvar freqSorted=Object.keys(counts).sort(function(b,a){return counts[a]-counts[b];}).map(function(key){return counts[key];});console.log(freqSorted);keysSorted.map(function(e,idx){return options.push({value:e,label:e+\" \"+freqSorted[idx]});});return/*#__PURE__*/React.createElement(\"div\",{class:classes.main},/*#__PURE__*/React.createElement(\"div\",{class:classes.header},/*#__PURE__*/React.createElement(\"div\",{style:{position:\"fixed\",right:350,top:20,color:\"white\"}},/*#__PURE__*/React.createElement(Web,{color:web?'white':'disabled',onClick:function onClick(e){return web?setweb(false):setweb(true);}}),/*#__PURE__*/React.createElement(Videocam,{color:video?'white':'disabled',onClick:function onClick(e){return video?setvideo(false):setvideo(true);}}),/*#__PURE__*/React.createElement(Description,{color:report?'white':'disabled',onClick:function onClick(e){return report?setreport(false):setreport(true);}}),/*#__PURE__*/React.createElement(PictureAsPdf,{color:article?'white':'disabled',onClick:function onClick(e){return article?setarticle(false):setarticle(true);}})),/*#__PURE__*/React.createElement(\"div\",{class:classes.title},\"Green Technologies Knowledge Resources Explorer\"),/*#__PURE__*/React.createElement(\"div\",{class:classes.box},/*#__PURE__*/React.createElement(Select,{styles:customStyles,options:options// isMulti \n,value:selectedOption,onChange:setSelectedOption})),top5buttons()),dataPresent());};export default App;","map":{"version":3,"sources":["C:/greentech/src/App.js"],"names":["React","useState","useRef","useEffect","Select","greendb","wordlist","classes","Badge","Chip","makeStyles","StackGrid","Web","Videocam","Description","PictureAsPdf","ReactGA","App","props","initialize","set","page","window","location","pathname","pageview","search","useStyles","theme","root","display","justifyContent","flexWrap","margin","spacing","chipclasses","customStyles","control","base","state","background","borderRadius","isFocused","borderColor","menu","marginTop","menuList","padding","singleValue","color","handleClick","e","setSelectedOption","value","label","top5buttons","target","options","slice","map","i","freqSorted","dataPresent","input","grid","result","idx","Link","Type","buttonW","buttonV","buttonA","buttonR","Name","position","right","bottom","selectedOption","console","log","wordcount","wordAvoid","keyword","toUpperCase","split","web","setweb","video","setvideo","report","setreport","article","setarticle","typelist","push","filter","includes","x","wordresult","counts","num","keysSorted","Object","keys","sort","b","a","key","main","header","top","title","box"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport Select from 'react-select'\r\nimport './index.css';\r\nimport greendb from './greendb.json';\r\nimport wordlist from './wordlist.json';\r\nimport classes from './Site.module.css';\r\nimport { Badge, Chip } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport StackGrid from \"react-stack-grid\";\r\nimport { Web, Videocam, Description, PictureAsPdf} from '@material-ui/icons';\r\nimport ReactGA from 'react-ga';\r\n\r\nconst App = props => {\r\n\r\n  \r\nReactGA.initialize('UA-156295886-1');\r\nReactGA.set({ page: window.location.pathname });\r\nReactGA.pageview(window.location.pathname + window.location.search);\r\n\r\n  \r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      flexWrap: 'wrap',\r\n      '& > *': {\r\n        margin: theme.spacing(0.5),\r\n      },\r\n    },\r\n  }));\r\n\r\n  const chipclasses = useStyles();\r\n\r\n\r\n  const customStyles = {\r\n    control: (base, state) => ({\r\n      ...base,\r\n      background: \"rgba(45,45,45,1)\",\r\n      // match with the menu\r\n      borderRadius: state.isFocused ? \"3px 3px 0 0\" : 3,\r\n      // Overwrittes the different states of border\r\n      borderColor: state.isFocused ? \"rgba(255,255,255,1)\" : \"rgba(255,255,255,1)\",\r\n      // Removes weird border around container      \r\n      // \"&:hover\": {\r\n      //   // Overwrittes the different states of border\r\n      //   borderColor: state.isFocused ? \"red\" : \"blue\"\r\n\r\n      // }\r\n    }),\r\n    menu: base => ({\r\n      ...base,\r\n      // override border radius to match the box\r\n      borderRadius: 0,\r\n      // kill the gap\r\n      marginTop: 0\r\n    }),\r\n    menuList: base => ({\r\n      ...base,\r\n      // kill the white space on first and last option\r\n                 \r\n      padding: 0\r\n    }),\r\n    singleValue: base => ({\r\n      ...base,\r\n      color:'white'            \r\n    })\r\n\r\n\r\n  }\r\n\r\n \r\n\r\n  const handleClick = (e) => {        \r\n    setSelectedOption({value:e, label:e})            \r\n  }\r\n \r\n  const top5buttons = () => {\r\n    return (\r\n      <div class={chipclasses.root}>\r\n      <button value={''} onClick={(e) => handleClick(e.target.value)}>{\"Select all\"}</button>            \r\n      {options.slice(0,10).map((e,i)=> \r\n      <Badge badgeContent={freqSorted[i]} color={freqSorted[i] > 50? \"secondary\" : freqSorted[i] > 40? \"error\" : \"primary\" }><Chip  label={e.value} onClick={() => handleClick(e.value)} /></Badge>)\r\n      }      \r\n      </div>\r\n    )\r\n  \r\n  }    \r\n  \r\n  const dataPresent = (input) => {\r\n    return (\r\n      \r\n        <StackGrid\r\n        columnWidth={230}\r\n        gutterWidth={10}        \r\n        gridRef={grid=> grid = grid}\r\n        \r\n      >\r\n      {result.slice(0,150).map((e,idx)=> {return <a href={e.Link} target=\"_blank\"><button key={idx} className={e.Type===\"Website\"? classes.buttonW : e.Type==='Video'?  classes.buttonV : e.Type==='Article'?  classes.buttonA : classes.buttonR}>{e.Name.slice(0,55)}<div style={{position:\"fixed\",right:5,bottom:5}}>{e.Type===\"Website\"? <Web/> : e.Type==='Video'? <Videocam/>  : e.Type==='Article'?  <Description/> : <PictureAsPdf/>}</div> </button><br/></a>})}\r\n      </StackGrid>\r\n      \r\n    )\r\n  \r\n  }    \r\n\r\n{/* <button className={classes.buttonActive}>{e.Name}</button> */}\r\n\r\n  const [selectedOption, setSelectedOption] = useState({value: '', label: 'Search'});\r\n  console.log(selectedOption)\r\n  // +\"  \"+e.freq\r\nconst options = []\r\nconst wordcount = []\r\nconst wordAvoid = [\"THE\",\"OF\",\"IN\",\"AND\",\"TO\",\"FOR\",\"A\",\"IS\",\"WITH\",\"ON\",\"FROM\",\"-\",\"USING\",\"HOW\",\"BY\",\"NEW\",\"INTO\",\"AN\",\"&\",\"WHAT\",\"ABOUT\",2020,\"ARE\",\"AT\",\"IT\",\"CHANGE\",\"FIRST\",10,\"WORLD?????S\",\"USE\",\"OVER\",\"HAS\",\"|\",\"ONE\",2019,\"TIME\",2050,\"OR\",\"?????\",\":\"]\r\n// wordlist.map(e => options.push({value: e.name, label: e.name}))\r\n\r\ngreendb.map(e => {\r\n  e.keyword=e.Name.toUpperCase().split(' ')\r\n  // e.keyword.map(x => wordcount.push(x))    \r\n})\r\n\r\n// greendb.map(e => console.log(e.keyword))\r\n\r\nconst [web, setweb] = useState(true);\r\nconst [video, setvideo] = useState(true);\r\nconst [report, setreport] = useState(true);\r\nconst [article, setarticle] = useState(true);\r\n\r\nlet typelist = []\r\nif(web){typelist.push(\"Website\")}\r\nif(video){typelist.push(\"Video\")}\r\nif(report){typelist.push(\"Report\")}\r\nif(article){typelist.push(\"Article\")}\r\nconsole.log(typelist)\r\n\r\nlet result = selectedOption.value==''? greendb.filter(e => (typelist.includes(e.Type))): greendb.filter(e => (typelist.includes(e.Type) && e.keyword.includes(selectedOption.value)))\r\nresult.map(e => e.keyword.map(x => wordcount.push(x)))\r\nconst wordresult = wordcount.filter(e => !wordAvoid.includes(e))\r\n// console.log(wordcount)\r\n\r\n\r\nconst counts = {};\r\n\r\nwordresult.map(num => counts[num] = counts[num] ? counts[num] + 1 : 1)\r\n\r\n\r\n// console.log(counts)\r\n\r\n\r\n// console.log(selectedOption)\r\nconst keysSorted = Object.keys(counts).sort(function(b,a){return counts[a]-counts[b]})\r\nconsole.log(keysSorted);     // bar,me,you,foo\r\n\r\nconst freqSorted = Object.keys(counts).sort(function(b,a){return counts[a]-counts[b]}).map(key => counts[key]);\r\nconsole.log(freqSorted);\r\n\r\nkeysSorted.map((e,idx) => options.push({value:e,label:e+\" \"+freqSorted[idx]}) )\r\n\r\n\r\n  \r\nreturn (\r\n<div class={classes.main}>\r\n  <div class={classes.header}>\r\n  <div style={{position:\"fixed\",right:350,top:20,color:\"white\"}}><Web color={web? 'white' :'disabled'} onClick={e=>web? setweb(false) : setweb(true)}/><Videocam color={video? 'white' :'disabled'} onClick={e=>video? setvideo(false) : setvideo(true)}/><Description color={report? 'white' :'disabled'} onClick={e=>report? setreport(false) : setreport(true)}/><PictureAsPdf color={article? 'white' :'disabled'} onClick={e=>article? setarticle(false) : setarticle(true)}/></div>\r\n    <div class={classes.title}>{\"Green Technologies Knowledge Resources Explorer\"}</div>    \r\n    <div class={classes.box}>\r\n    <Select \r\n    styles={customStyles}\r\n    options={options} \r\n    // isMulti \r\n    value={selectedOption}\r\n    onChange={setSelectedOption}\r\n    /></div>\r\n    {top5buttons()}\r\n  </div>\r\n{dataPresent()}\r\n</div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}