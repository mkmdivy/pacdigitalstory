{"ast":null,"code":"var _jsxFileName = \"C:\\\\networkproj\\\\src\\\\index.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport mapboxgl from 'mapbox-gl';\nimport africa from './africa.json';\nimport classes from './Site.module.css';\nimport ReactGA from 'react-ga';\nimport './index.css';\nimport logo from './OECD_white_EN.png';\nimport MaterialIcon from 'material-icons-react';\nimport { ForceGraph2D } from 'react-force-graph'; // import * as ForceGraph2D from 'react-force-graph-2d';\n// import * as d3 from 'd3';\n// import * as d3Force from 'd3-force';\n\nReactGA.initialize('UA-128268752-1');\nReactGA.pageview(window.location.search + window.location.pathname);\nmapboxgl.accessToken = 'pk.eyJ1IjoibWttZCIsImEiOiJjajBqYjJpY2owMDE0Mndsbml0d2V1ZXczIn0.el8wQmA-TSJp2ggX8fJ1rA';\n\nconst App = props => {\n  const colors = [\"#F3F2E8\", \"#D4EBE2\", \"#B6E3DB\", \"#97DCD5\", \"#79D5CF\", \"#5ACEC9\", \"#3CC6C2\", \"#1DBFBC\", \"#333333\"];\n  const [Dist, setDist] = useState(1000);\n  const [mapnetwork, setmapnetwork] = useState(\"Network\"); // useEffect(() => {},[]); \n\n  const TimeSlider = ({\n    Dist,\n    width\n  }) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: `${width}px`\n      },\n      className: classes[\"input-slider\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"range\",\n      min: 0,\n      max: 1000,\n      value: Dist,\n      step: 1,\n      onChange: event => setDist(event.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 10\n      }\n    }, Dist, \" Minutes\"));\n  };\n\n  const [mapbox, setmapbox] = useState({\n    lng: 10,\n    lat: 0,\n    zoom: 2.5,\n    button: \"Map\"\n  });\n  const mapContainerRef = useRef(null);\n  const [map, setMap] = useState(null);\n  useEffect(() => {\n    if (!map) {\n      const map = new mapboxgl.Map({\n        container: mapContainerRef.current,\n        style: 'mapbox://styles/mkmd/ckguwdhux0j7719p9rz2hpmpi',\n        /// Select mapstyle from mapbox studio\n        center: [mapbox.lng, mapbox.lat],\n        zoom: mapbox.zoom,\n        attributionControl: false\n      });\n      map.on('load', () => {\n        setMap(map);\n        map.addSource('node-237nu4', {\n          type: 'vector',\n          url: 'mapbox://mkmd.1ya649n5'\n        });\n        map.addSource('edge-dm0qvz', {\n          type: 'vector',\n          url: 'mapbox://mkmd.1rxtvzvy'\n        });\n        map.addLayer({\n          id: 'edge',\n          source: 'edge-dm0qvz',\n          type: \"line\",\n          'source-layer': 'edge-dm0qvz',\n          // filter: [ \"match\", [\"get\", \"iso_3166_1\"], [\"TJ\",\"IR\",\"CN\", \"GL\", \"SJ\", \"TM\", \"EH\", \"KP\" ], false, true ],\n          paint: {\n            \"line-color\": [\"match\", [\"get\", \"border\"], [\"0\"], colors[0], \"red\"]\n          }\n        });\n        map.addLayer({\n          id: 'node',\n          source: 'node-237nu4',\n          type: \"circle\",\n          'source-layer': 'node-237nu4',\n          // filter: [ \"match\", [\"get\", \"iso_3166_1\"], [\"TJ\",\"IR\",\"CN\", \"GL\", \"SJ\", \"TM\", \"EH\", \"KP\" ], false, true ],\n          paint: {\n            \"circle-radius\": [\"step\", [\"get\", `Pop2015`], 2.5, 10000, 3, 30000, 4, 100000, 6, 300000, 8, 1000000, 10, 2000000, 13, 11847635, 15],\n            \"circle-color\": [\"step\", [\"get\", `Pop2015`], colors[0], 10000, colors[1], 30000, colors[2], 100000, colors[3], 300000, colors[4], 1000000, colors[5], 2000000, colors[6], 11847635, colors[7]],\n            \"circle-stroke-width\": 1,\n            \"circle-stroke-opacity\": [\"interpolate\", [\"linear\"], [\"zoom\"], 0, 0, 3, 0, 15, 1],\n            \"circle-opacity\": [\"interpolate\", [\"linear\"], [\"zoom\"], 0, 0, 3, 0.4, 10, 1] // [\n            //   \"case\",\n            //   [\"boolean\", [\"feature-state\", \"hover\"], false],\n            //   1,\n            //   0.7,\n            // ],\n\n          }\n        });\n      });\n    }\n  }, [map]); /////////////////////////////////////////// Network part\n  // africa.nodes.map(e => {\n  //   e.x = e.x\n  //   e.y = e.y\n  // })\n\n  africa.nodes.map(e => {\n    e.visibility = \"true\";\n\n    if (e.size === 0.1) {\n      e.visibility = \"false\";\n    }\n  });\n  africa.links.map(e => e.border === 1 ? e.color = \"rgb(255,255,255,.3)\" : e.color = e.source.color); // africa.links.map(e => e.border==1? e.value=e.value+1000 : null)\n  // africa.links.map(e => e.value=e.value*Math.random())\n  // console.log(africa)\n\n  const fgRef = useRef();\n  const nodes = africa.nodes;\n  const links = africa.links;\n  const [graphData, setGraphData] = useState({\n    nodes: nodes,\n    links: links\n  });\n  useEffect(() => {\n    if (Dist === 0 | Dist === 60 | Dist === 300 | Dist === 1000 && mapnetwork === \"Network\") {\n      const fg = fgRef.current;\n      fg.d3Force('link').distance(link => link.border === 1 ? link.time + Dist : link.time).iterations(500);\n      fg.zoom(0.025703429015691344);\n      fg.centerAt(496, 2656); // fg.d3Force('box', () => {\n      //   nodes.forEach(node => {    \n      //     node.x=node.reX*500\n      //     node.y=node.reY*500\n      //     node.vx=3\n      //     node.vy=3\n      //     // const x = node.x || 0, y = node.y || 0;\n      //     // // bounce on box walls\n      //     // if (Math.abs(x) > SQUARE_HALF_SIDE) { node.vx *= -1; }\n      //     // if (Math.abs(y) > SQUARE_HALF_SIDE) { node.vy *= -1; }\n      //   });\n      // });\n    }\n  }, [Dist]); /////////////////////////////////////////////////////////////////////////////////////\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.topleft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 5\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.headwrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 39\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.buttonwrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 77\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: mapnetwork === \"Map\" ? classes.buttonActive : classes.button,\n    onClick: () => mapnetwork === \"Network\" ? setmapnetwork(\"Map\") : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 5\n    }\n  }, \"Map\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: mapnetwork === \"Network\" ? classes.buttonActive : classes.button,\n    onClick: () => mapnetwork === \"Map\" ? setmapnetwork(\"Network\") : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 5\n    }\n  }, \"Network\")), /*#__PURE__*/React.createElement(\"headtitle\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 5\n    }\n  }, \"Cities and roads in Africa\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 60\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 5\n    }\n  }, \"Set the border cost\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: Dist === 0 ? classes.buttonActivedist : classes.buttondist,\n    onClick: () => mapnetwork === \"Network\" ? setDist(0) : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 5\n    }\n  }, \"0min\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: Dist === 60 ? classes.buttonActivedist : classes.buttondist,\n    onClick: () => mapnetwork === \"Network\" ? setDist(60) : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 5\n    }\n  }, \"60min\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: Dist === 300 ? classes.buttonActivedist : classes.buttondist,\n    onClick: () => mapnetwork === \"Network\" ? setDist(300) : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 5\n    }\n  }, \"300min\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: Dist === 1000 ? classes.buttonActivedist : classes.buttondist,\n    onClick: () => mapnetwork === \"Network\" ? setDist(1000) : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 5\n    }\n  }, \"1000min\"), /*#__PURE__*/React.createElement(TimeSlider, {\n    Dist: Dist,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    className: classes.table,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"VariableInfoWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MaterialIcon, {\n    icon: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 21\n    }\n  }, \"How it is calculated?\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 59\n    }\n  }), \"The Social Connectedness Index measures the strength of connectedness between two geographic areas as represented by Facebook friendship ties.\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 157\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 162\n    }\n  }), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 15\n    }\n  }, \"Methodology\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 43\n    }\n  }), \"We use aggregated friendship connections on Facebook to measure social connectedness between geographies. Locations are assigned to users based on information they provide, connection information, and location services they have opted into. We use these friendships to estimate the probability a pair of users in these countries are Facebook friends and map this to an index score called the Social Connectedness Index (SCI). If the SCI is twice as large between two pairs of regions, it means the users in the first region-pair are about twice as likely to be connected than the second region-pair.\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 614\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 619\n    }\n  }), \"The figure shows a heat map of the social connectedness. For each country in our data, the colors highlight connections of the focal country, given in orange. The lightest color corresponds to the 20th percentile of the connectedness to the focal country; darker colors correspond to closer connections.\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(\"color\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 23\n    }\n  }, \"Click the right button to check more detail and download the data on the Facebook page\"), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FB\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://dataforgood.fb.com/tools/social-connectedness-index/#:~:text=The%20Social%20Connectedness%20Index%20measures,social%20mobility%2C%20trade%20and%20more.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MaterialIcon, {\n    icon: \"facebook\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 15\n    }\n  }, \"Move to the Facebook Data for Good page to check detail and download the data\")))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: mapContainerRef,\n    className: classes.mapContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }\n  })), Dist === 0 ? mapnetwork === \"Map\" ? null : /*#__PURE__*/React.createElement(ForceGraph2D, {\n    ref: fgRef,\n    backgroundColor: \"black\",\n    graphData: graphData,\n    nodeId: \"id\",\n    nodeVal: \"size3\",\n    nodeLabel: \"nameG\",\n    nodeAutoColorBy: \"group\",\n    linkSource: \"source\",\n    linkTarget: \"target\",\n    linkColor: \"color\",\n    cooldownTime: 10000 // onRenderFramePre={(e) => console.log(e)}\n    // onRenderFramePost={(e) => console.log(e)}\n    // d3AlphaDecay={0}\n    // d3VelocityDecay={0}    \n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 44\n    }\n  }) : null, Dist === 60 ? mapnetwork === \"Map\" ? null : /*#__PURE__*/React.createElement(ForceGraph2D, {\n    ref: fgRef,\n    backgroundColor: \"black\",\n    graphData: graphData,\n    nodeId: \"id\",\n    nodeVal: \"size3\",\n    nodeLabel: \"nameG\",\n    nodeAutoColorBy: \"group\",\n    linkSource: \"source\",\n    linkTarget: \"target\",\n    linkColor: \"color\",\n    cooldownTime: 10000 // onRenderFramePre={(e) => console.log(e)}\n    // onRenderFramePost={(e) => console.log(e)}\n    // d3AlphaDecay={0}\n    // d3VelocityDecay={0}    \n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 45\n    }\n  }) : null, Dist === 300 ? mapnetwork === \"Map\" ? null : /*#__PURE__*/React.createElement(ForceGraph2D, {\n    ref: fgRef,\n    backgroundColor: \"black\",\n    graphData: graphData,\n    nodeId: \"id\",\n    nodeVal: \"size3\",\n    nodeLabel: \"nameG\",\n    nodeAutoColorBy: \"group\",\n    linkSource: \"source\",\n    linkTarget: \"target\",\n    linkColor: \"color\",\n    linkLabel: d => `<div>hoo </div>`,\n    cooldownTime: 10000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 46\n    }\n  }) : null, Dist === 1000 ? mapnetwork === \"Map\" ? null : /*#__PURE__*/React.createElement(ForceGraph2D, {\n    ref: fgRef,\n    backgroundColor: \"black\",\n    graphData: graphData,\n    nodeId: \"id\",\n    nodeVal: \"size3\",\n    nodeLabel: \"nameG\",\n    nodeAutoColorBy: \"group\",\n    linkSource: \"source\",\n    linkTarget: \"target\",\n    linkColor: \"color\",\n    nodeVisibility: e => e.size > 0.2,\n    cooldownTime: 10000,\n    linkCurvature: 0.1,\n    d3AlphaDecay: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 47\n    }\n  }) : null);\n};\n\nexport default App;\nReactDOM.render( /*#__PURE__*/React.createElement(App, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 343,\n    columnNumber: 17\n  }\n}), document.getElementById('app'));","map":{"version":3,"sources":["C:/networkproj/src/index.js"],"names":["React","useState","useEffect","useRef","ReactDOM","mapboxgl","africa","classes","ReactGA","logo","MaterialIcon","ForceGraph2D","initialize","pageview","window","location","search","pathname","accessToken","App","props","colors","Dist","setDist","mapnetwork","setmapnetwork","TimeSlider","width","event","target","value","mapbox","setmapbox","lng","lat","zoom","button","mapContainerRef","map","setMap","Map","container","current","style","center","attributionControl","on","addSource","type","url","addLayer","id","source","paint","nodes","e","visibility","size","links","border","color","fgRef","graphData","setGraphData","fg","d3Force","distance","link","time","iterations","centerAt","topleft","headwrapper","buttonwrapper","buttonActive","buttonActivedist","buttondist","table","mapContainer","d","render","document","getElementById"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport mapboxgl from 'mapbox-gl';\r\nimport africa from './africa.json';\r\nimport classes from './Site.module.css';\r\nimport ReactGA from 'react-ga';\r\nimport './index.css';\r\nimport logo from './OECD_white_EN.png';\r\nimport MaterialIcon from 'material-icons-react';\r\nimport { ForceGraph2D } from 'react-force-graph';\r\n// import * as ForceGraph2D from 'react-force-graph-2d';\r\n// import * as d3 from 'd3';\r\n// import * as d3Force from 'd3-force';\r\n\r\nReactGA.initialize('UA-128268752-1');\r\nReactGA.pageview(window.location.search+window.location.pathname);\r\nmapboxgl.accessToken = 'pk.eyJ1IjoibWttZCIsImEiOiJjajBqYjJpY2owMDE0Mndsbml0d2V1ZXczIn0.el8wQmA-TSJp2ggX8fJ1rA';\r\n\r\n\r\n\r\nconst App = props => {\r\n  const colors = [\"#F3F2E8\",\"#D4EBE2\",\"#B6E3DB\",\"#97DCD5\",\"#79D5CF\",\"#5ACEC9\",\"#3CC6C2\",\"#1DBFBC\",\"#333333\"]\r\n\r\n  const [Dist, setDist] = useState(1000)  \r\n  const [mapnetwork, setmapnetwork] = useState(\"Network\")  \r\n  \r\n  // useEffect(() => {},[]); \r\n    \r\n  const TimeSlider = ({ Dist, width }) => {\r\n    return (    \r\n      <div style={{ width: `${width}px` }} className={classes[\"input-slider\"]}>\r\n        <input type=\"range\"\r\n          min={0}\r\n          max={1000}\r\n          value={Dist}\r\n          step={1}\r\n          onChange={event =>\r\n             setDist(event.target.value)\r\n            }\r\n        />\r\n        {<span>{Dist} Minutes</span>}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  \r\n const [mapbox, setmapbox] = useState( {lng: 10,\r\n    lat: 0,\r\n    zoom: 2.5,\r\n    button: \"Map\"} );\r\n\r\nconst mapContainerRef = useRef(null);\r\n\r\nconst [map, setMap] = useState(null);\r\n\r\n\r\nuseEffect(() => { \r\n  \r\n  if (!map) {\r\n  const map = new mapboxgl.Map({\r\n  container: mapContainerRef.current,\r\n  style: 'mapbox://styles/mkmd/ckguwdhux0j7719p9rz2hpmpi', /// Select mapstyle from mapbox studio\r\n  center: [mapbox.lng, mapbox.lat],\r\n  zoom: mapbox.zoom,\r\n  attributionControl: false\r\n});\r\n  \r\n\r\nmap.on('load', () => {\r\n  setMap(map);\r\n  map.addSource('node-237nu4', { type: 'vector', url: 'mapbox://mkmd.1ya649n5'});\r\n  map.addSource('edge-dm0qvz', { type: 'vector', url: 'mapbox://mkmd.1rxtvzvy'});\r\n  map.addLayer({\r\n    id: 'edge',\r\n    source:'edge-dm0qvz',\r\n    type : \"line\",\r\n    'source-layer':'edge-dm0qvz',\r\n    // filter: [ \"match\", [\"get\", \"iso_3166_1\"], [\"TJ\",\"IR\",\"CN\", \"GL\", \"SJ\", \"TM\", \"EH\", \"KP\" ], false, true ],\r\n    paint: {\r\n      \"line-color\" : [\"match\", [\"get\",\"border\"],\r\n       [\"0\"],colors[0],\r\n       \"red\"\r\n    ]\r\n    },\r\n  })\r\n  \r\n  map.addLayer({\r\n    id: 'node',\r\n    source:'node-237nu4',\r\n    type : \"circle\",\r\n    'source-layer':'node-237nu4',\r\n    // filter: [ \"match\", [\"get\", \"iso_3166_1\"], [\"TJ\",\"IR\",\"CN\", \"GL\", \"SJ\", \"TM\", \"EH\", \"KP\" ], false, true ],\r\n    paint: {\r\n      \"circle-radius\":  [\r\n        \"step\",\r\n        [\"get\", `Pop2015`],\r\n        2.5,\r\n        10000,\r\n        3,\r\n        30000,\r\n        4,\r\n        100000,\r\n        6,\r\n        300000,\r\n        8,\r\n        1000000,\r\n        10,\r\n        2000000,\r\n        13,\r\n        11847635,\r\n        15,\r\n      ]\r\n      ,\r\n      \"circle-color\": [\r\n        \"step\",\r\n        [\"get\", `Pop2015`],\r\n        colors[0],\r\n        10000,\r\n        colors[1],\r\n        30000,\r\n        colors[2],\r\n        100000,\r\n        colors[3],\r\n        300000,\r\n        colors[4],\r\n        1000000,\r\n        colors[5],\r\n        2000000,\r\n        colors[6],\r\n        11847635,\r\n        colors[7],\r\n      ],\r\n  \r\n      \"circle-stroke-width\": 1,\r\n      \"circle-stroke-opacity\": [\r\n        \"interpolate\",\r\n        [\"linear\"],\r\n        [\"zoom\"],\r\n        0,\r\n        0,\r\n        3,\r\n        0,\r\n        15,\r\n        1,\r\n      ],\r\n      \"circle-opacity\": [\r\n        \"interpolate\",\r\n        [\"linear\"],\r\n        [\"zoom\"],\r\n        0,\r\n        0,\r\n        3,\r\n        0.4,\r\n        10,\r\n        1\r\n      ]\r\n  \r\n      \r\n      // [\r\n      //   \"case\",\r\n      //   [\"boolean\", [\"feature-state\", \"hover\"], false],\r\n      //   1,\r\n      //   0.7,\r\n      // ],\r\n    },\r\n  });\r\n  });\r\n  \r\n  \r\n}},[map]);\r\n\r\n\r\n/////////////////////////////////////////// Network part\r\n\r\n\r\n// africa.nodes.map(e => {\r\n//   e.x = e.x\r\n//   e.y = e.y\r\n// })\r\n\r\nafrica.nodes.map(e => {\r\n  e.visibility=\"true\"  \r\n  if (e.size===0.1)\r\n  {\r\n    e.visibility=\"false\"\r\n  }\r\n  })\r\n  \r\n\r\nafrica.links.map(e => e.border===1? e.color=\"rgb(255,255,255,.3)\" : e.color=e.source.color)\r\n// africa.links.map(e => e.border==1? e.value=e.value+1000 : null)\r\n// africa.links.map(e => e.value=e.value*Math.random())\r\n// console.log(africa)\r\n\r\nconst fgRef = useRef();\r\nconst nodes = africa.nodes\r\nconst links = africa.links\r\n\r\nconst [graphData, setGraphData] = useState({ nodes: nodes, links: links });\r\n\r\nuseEffect(() => {\r\n  \r\nif ((Dist === 0 | Dist === 60 | Dist === 300 | Dist === 1000) && mapnetwork === \"Network\")\r\n{\r\nconst fg = fgRef.current;\r\nfg.d3Force('link').distance(link => link.border===1? link.time+Dist : link.time).iterations(500);\r\nfg.zoom(0.025703429015691344)\r\nfg.centerAt(496,2656)\r\n\r\n// fg.d3Force('box', () => {\r\n//   nodes.forEach(node => {    \r\n//     node.x=node.reX*500\r\n//     node.y=node.reY*500\r\n//     node.vx=3\r\n//     node.vy=3\r\n//     // const x = node.x || 0, y = node.y || 0;\r\n\r\n//     // // bounce on box walls\r\n//     // if (Math.abs(x) > SQUARE_HALF_SIDE) { node.vx *= -1; }\r\n//     // if (Math.abs(y) > SQUARE_HALF_SIDE) { node.vy *= -1; }\r\n//   });\r\n// });\r\n\r\n}}, [Dist]);\r\n\r\n\r\n/////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n    <div className={classes.topleft}> <div className={classes.headwrapper}> <div className={classes.buttonwrapper}>          \r\n    <button className={mapnetwork===\"Map\"? classes.buttonActive : classes.button} onClick={() => mapnetwork===\"Network\"? setmapnetwork(\"Map\") : null}>{\"Map\"}</button>\r\n    <button className={mapnetwork===\"Network\"? classes.buttonActive : classes.button} onClick={() => mapnetwork===\"Map\"? setmapnetwork(\"Network\") : null}>{\"Network\"}</button></div>\r\n    <headtitle>Cities and roads in Africa</headtitle></div><br/>\r\n    <span>Set the border cost</span><br/>\r\n    <button className={Dist===0? classes.buttonActivedist : classes.buttondist} onClick={() => mapnetwork===\"Network\"? setDist(0) : null}>{\"0min\"}</button>\r\n    <button className={Dist===60? classes.buttonActivedist : classes.buttondist} onClick={() => mapnetwork===\"Network\"? setDist(60) : null}>{\"60min\"}</button>\r\n    <button className={Dist===300? classes.buttonActivedist : classes.buttondist} onClick={() => mapnetwork===\"Network\"? setDist(300) : null}>{\"300min\"}</button>\r\n    <button className={Dist===1000? classes.buttonActivedist : classes.buttondist} onClick={() => mapnetwork===\"Network\"? setDist(1000) : null}>{\"1000min\"}</button>    \r\n    <TimeSlider Dist={Dist}/>\r\n    <table className={classes.table}>\r\n        <thead>\r\n          <tr>\r\n            {/* <th>Country</th><th>Road</th><th>Network</th> */}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          \r\n        </tbody>\r\n      </table>\r\n    {/* <br/> <span>Regional average</span> */}\r\n          <div className=\"VariableInfoWrapper\">\r\n              <MaterialIcon icon=\"info\"/>\r\n              <span><strong>How it is calculated?</strong><br/>\r\n              The Social Connectedness Index measures the strength of connectedness between two geographic areas as represented by Facebook friendship ties.<br/><br/>\r\n              <strong>Methodology</strong><br/>\r\n              We use aggregated friendship connections on Facebook to measure social connectedness between geographies. Locations are assigned to users based on information they provide, connection information, and location services they have opted into. We use these friendships to estimate the probability a pair of users in these countries are Facebook friends and map this to an index score called the Social Connectedness Index (SCI). If the SCI is twice as large between two pairs of regions, it means the users in the first region-pair are about twice as likely to be connected than the second region-pair.<br/><br/>\r\n            The figure shows a heat map of the social connectedness. For each country in our data, the colors highlight connections of the focal country, given in orange. The lightest color corresponds to the 20th percentile of the connectedness to the focal country; darker colors correspond to closer connections.\r\n            <br/><br/><color>Click the right button to check more detail and download the data on the Facebook page</color> </span>\r\n          </div>\r\n          <div className=\"FB\">\r\n          <a href=\"https://dataforgood.fb.com/tools/social-connectedness-index/#:~:text=The%20Social%20Connectedness%20Index%20measures,social%20mobility%2C%20trade%20and%20more.\">\r\n              <MaterialIcon icon=\"facebook\"/>\r\n              <span>Move to the Facebook Data for Good page to check detail and download the data</span>\r\n          </a>\r\n          </div>\r\n       </div>\r\n       <div><div ref={mapContainerRef} className={classes.mapContainer} /></div>\r\n    \r\n    {Dist===0? mapnetwork===\"Map\"? null :  < ForceGraph2D    \r\n    ref={fgRef}\r\n    backgroundColor=\"black\"    \r\n    graphData={graphData}\r\n    nodeId=\"id\"\r\n    nodeVal=\"size3\"\r\n    nodeLabel=\"nameG\"\r\n    nodeAutoColorBy=\"group\"\r\n    linkSource=\"source\"\r\n    linkTarget=\"target\"\r\n    linkColor=\"color\"\r\n    cooldownTime={10000}  \r\n    // onRenderFramePre={(e) => console.log(e)}\r\n    // onRenderFramePost={(e) => console.log(e)}\r\n    // d3AlphaDecay={0}\r\n    // d3VelocityDecay={0}    \r\n    /> : null}    \r\n    {Dist===60? mapnetwork===\"Map\"? null :  < ForceGraph2D    \r\n    ref={fgRef}\r\n    backgroundColor=\"black\"    \r\n    graphData={graphData}\r\n    nodeId=\"id\"\r\n    nodeVal=\"size3\"\r\n    nodeLabel=\"nameG\"\r\n    nodeAutoColorBy=\"group\"\r\n    linkSource=\"source\"\r\n    linkTarget=\"target\"\r\n    linkColor=\"color\"\r\n    cooldownTime={10000}  \r\n    // onRenderFramePre={(e) => console.log(e)}\r\n    // onRenderFramePost={(e) => console.log(e)}\r\n    // d3AlphaDecay={0}\r\n    // d3VelocityDecay={0}    \r\n    /> : null}\r\n    {Dist===300? mapnetwork===\"Map\"? null :  < ForceGraph2D    \r\n    ref={fgRef}\r\n    backgroundColor=\"black\"    \r\n    graphData={graphData}\r\n    nodeId=\"id\"\r\n    nodeVal=\"size3\"\r\n    nodeLabel=\"nameG\"\r\n    nodeAutoColorBy=\"group\"\r\n    linkSource=\"source\"\r\n    linkTarget=\"target\"\r\n    linkColor=\"color\"\r\n    linkLabel={d=>`<div>hoo </div>`}\r\n    cooldownTime={10000}      \r\n    /> : null}          \r\n    {Dist===1000? mapnetwork===\"Map\"? null :  < ForceGraph2D    \r\n    ref={fgRef}\r\n    backgroundColor=\"black\"    \r\n    graphData={graphData}\r\n    nodeId=\"id\"\r\n    nodeVal=\"size3\"\r\n    nodeLabel=\"nameG\"\r\n    nodeAutoColorBy=\"group\"\r\n    linkSource=\"source\"\r\n    linkTarget=\"target\"\r\n    linkColor=\"color\"\r\n    nodeVisibility={e => e.size>0.2}\r\n    cooldownTime={10000}      \r\n    linkCurvature={0.1}\r\n    d3AlphaDecay={0}    \r\n    /> : null}          \r\n  </div>      \r\n);\r\n  \r\n};\r\n\r\nexport default App;\r\n\r\nReactDOM.render(<App />, document.getElementById('app'));\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}